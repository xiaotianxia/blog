<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è®©ä½ çš„ç½‘é¡µå¼€å£è¯´è¯ â€”â€” audioContext API | å‰ç«¯å­¦ä¹ ç¬”è®°</title>
    <meta name="description" content="å‰ç«¯å¤§ä¹±ç‚–â€”â€”webå‰ç«¯,HTML5,CSS3,Javascript,SVG,canvas,vue...">
    <meta name="keywords" content="webå‰ç«¯,HTML5,CSS3,Javascript,SVG,canvas,vue...">
  <meta name="anthor" content="Denzel">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="icon" href="/blog/vuepress/logo.png">
    
    <link rel="preload" href="/blog/vuepress/assets/css/0.styles.33e2bb3c.css" as="style"><link rel="preload" href="/blog/vuepress/assets/js/app.fdeb7e5c.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/4.e99f9f1f.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/74.8c7f7da5.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/32.8fdde266.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/33.01e8d716.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/19.2ccaa154.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/20.f31a233d.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/21.6b987c57.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/22.3177d131.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/30.cfdc9869.js" as="script"><link rel="prefetch" href="/blog/vuepress/assets/js/1.473ee8ba.js"><link rel="prefetch" href="/blog/vuepress/assets/js/10.5884c115.js"><link rel="prefetch" href="/blog/vuepress/assets/js/100.926a9e4d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/101.c13b059d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/102.3d38ff01.js"><link rel="prefetch" href="/blog/vuepress/assets/js/103.c0f64d17.js"><link rel="prefetch" href="/blog/vuepress/assets/js/104.139ba5cd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/105.91f6ee22.js"><link rel="prefetch" href="/blog/vuepress/assets/js/106.ad1a9e2d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/107.9d662988.js"><link rel="prefetch" href="/blog/vuepress/assets/js/108.37349ff1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/109.ea1f742b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/11.82029291.js"><link rel="prefetch" href="/blog/vuepress/assets/js/110.78259d85.js"><link rel="prefetch" href="/blog/vuepress/assets/js/111.9a53ebf0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/112.9787a16d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/113.01ed04ae.js"><link rel="prefetch" href="/blog/vuepress/assets/js/114.4352f5f4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/115.75e63613.js"><link rel="prefetch" href="/blog/vuepress/assets/js/116.c62c606a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/12.fbd16c10.js"><link rel="prefetch" href="/blog/vuepress/assets/js/13.37899276.js"><link rel="prefetch" href="/blog/vuepress/assets/js/14.98a6f4fd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/15.0aa6584a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/16.0ce8d1ee.js"><link rel="prefetch" href="/blog/vuepress/assets/js/17.54c71da8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/18.23e4b9ac.js"><link rel="prefetch" href="/blog/vuepress/assets/js/23.0cfa5079.js"><link rel="prefetch" href="/blog/vuepress/assets/js/24.e6df7c4e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/25.8813ce34.js"><link rel="prefetch" href="/blog/vuepress/assets/js/26.1f0182f9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/27.57b9aeb5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/28.00c2b567.js"><link rel="prefetch" href="/blog/vuepress/assets/js/29.bd9a7cc6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/31.4fab2338.js"><link rel="prefetch" href="/blog/vuepress/assets/js/34.223bcad6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/35.b27ac654.js"><link rel="prefetch" href="/blog/vuepress/assets/js/36.bff3da0d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/37.37a50753.js"><link rel="prefetch" href="/blog/vuepress/assets/js/38.3f8de779.js"><link rel="prefetch" href="/blog/vuepress/assets/js/39.ccc58b01.js"><link rel="prefetch" href="/blog/vuepress/assets/js/40.94d502d9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/41.8f4d09e3.js"><link rel="prefetch" href="/blog/vuepress/assets/js/42.87607948.js"><link rel="prefetch" href="/blog/vuepress/assets/js/43.9f7c88ec.js"><link rel="prefetch" href="/blog/vuepress/assets/js/44.c6f6d836.js"><link rel="prefetch" href="/blog/vuepress/assets/js/45.8c17af17.js"><link rel="prefetch" href="/blog/vuepress/assets/js/46.f613ecde.js"><link rel="prefetch" href="/blog/vuepress/assets/js/47.2e292da6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/48.afe8077a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/49.181bacc7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/5.80550e5c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/50.e709508a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/51.6351d6a8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/52.90117a09.js"><link rel="prefetch" href="/blog/vuepress/assets/js/53.feef880b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/54.bd07074a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/55.c0b01345.js"><link rel="prefetch" href="/blog/vuepress/assets/js/56.9bc8c160.js"><link rel="prefetch" href="/blog/vuepress/assets/js/57.787b6ee7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/58.271cb7d5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/59.2c537fb1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/6.53469bbf.js"><link rel="prefetch" href="/blog/vuepress/assets/js/60.8eaac933.js"><link rel="prefetch" href="/blog/vuepress/assets/js/61.77a5c06c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/62.baf0ebea.js"><link rel="prefetch" href="/blog/vuepress/assets/js/63.3d7654ff.js"><link rel="prefetch" href="/blog/vuepress/assets/js/64.61b60cf7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/65.45f92704.js"><link rel="prefetch" href="/blog/vuepress/assets/js/66.af2ebe2d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/67.b99ab650.js"><link rel="prefetch" href="/blog/vuepress/assets/js/68.58841402.js"><link rel="prefetch" href="/blog/vuepress/assets/js/69.3be160ac.js"><link rel="prefetch" href="/blog/vuepress/assets/js/7.f8c56dd7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/70.e06257ec.js"><link rel="prefetch" href="/blog/vuepress/assets/js/71.b79bc1bd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/72.f4733193.js"><link rel="prefetch" href="/blog/vuepress/assets/js/73.15e53c84.js"><link rel="prefetch" href="/blog/vuepress/assets/js/75.7a37af37.js"><link rel="prefetch" href="/blog/vuepress/assets/js/76.98e97a6b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/77.de1840fb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/78.ba0ff8ae.js"><link rel="prefetch" href="/blog/vuepress/assets/js/79.69580f0e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/8.cae1eaf7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/80.b4aaad35.js"><link rel="prefetch" href="/blog/vuepress/assets/js/81.a30a32b7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/82.6c1c6cf6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/83.d4c3aeb0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/84.c7857479.js"><link rel="prefetch" href="/blog/vuepress/assets/js/85.0a6e7f49.js"><link rel="prefetch" href="/blog/vuepress/assets/js/86.33d8c9ff.js"><link rel="prefetch" href="/blog/vuepress/assets/js/87.20e0d5aa.js"><link rel="prefetch" href="/blog/vuepress/assets/js/88.47cdcee7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/89.3b2868d8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/9.3b9b4f4e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/90.71de2f6c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/91.8a51d1f8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/92.028bb1c9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/93.558ed656.js"><link rel="prefetch" href="/blog/vuepress/assets/js/94.aea9e43a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/95.ad8cf196.js"><link rel="prefetch" href="/blog/vuepress/assets/js/96.8fae4066.js"><link rel="prefetch" href="/blog/vuepress/assets/js/97.bbbd554d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/98.d40d1a8e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/99.43925f6a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/vendors~notification.2c222055.js">
    <link rel="stylesheet" href="/blog/vuepress/assets/css/0.styles.33e2bb3c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/vuepress/" class="home-link router-link-active"><img src="/blog/vuepress/logo.png" alt="å‰ç«¯å­¦ä¹ ç¬”è®°" class="logo"> <span class="site-name can-hide">å‰ç«¯å­¦ä¹ ç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">å…¶ä»–</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">å…¶ä»–</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vuepress/js/" class="sidebar-link">ç›®å½•</a></li><li><a href="/blog/vuepress/js/four_kinds_of_observers.html" class="sidebar-link">JSä¸­çš„è§‚å¯Ÿè€…ä»¬ â€”â€” å››ç§ Observers</a></li><li><a href="/blog/vuepress/js/editable_dom.html" class="sidebar-link">å¯ç¼–è¾‘çš„é¡µé¢â€”â€”designModeã€contenteditableå’Œuser-modify</a></li><li><a href="/blog/vuepress/js/useful_webapis_mediarecorder.html" class="sidebar-link">ç”¨æµè§ˆå™¨è½»æ¾å½•åˆ¶éŸ³é¢‘ã€è§†é¢‘â€”â€” MediaRecorder API</a></li><li><a href="/blog/vuepress/js/useful_webapis_audiocontext.html" class="active sidebar-link">è®©ä½ çš„ç½‘é¡µå¼€å£è¯´è¯ â€”â€” audioContext API</a></li><li><a href="/blog/vuepress/js/useful_webapis_fullscreen.html" class="sidebar-link">å‡ ä¸ªæœ‰ç”¨çš„Web APIâ€”â€”å…¨å±æ¨¡å¼</a></li><li><a href="/blog/vuepress/js/useful_webapis_notification.html" class="sidebar-link">å‡ ä¸ªæœ‰ç”¨çš„Web APIâ€”â€”æ¡Œé¢é€šçŸ¥API</a></li><li><a href="/blog/vuepress/js/useful_webapis_connection.html" class="sidebar-link">å‡ ä¸ªæœ‰ç”¨çš„Web APIâ€”â€”ç½‘ç»œçŠ¶æ€API</a></li><li><a href="/blog/vuepress/js/useful_webapis_geolocation.html" class="sidebar-link">å‡ ä¸ªæœ‰ç”¨çš„Web APIâ€”â€”åœ°ç†ä½ç½®API</a></li><li><a href="/blog/vuepress/js/speech_in_js_recognition.html" class="sidebar-link">JSä¸­çš„è¯­éŸ³è¯†åˆ«â€”â€”Speech Recognition API</a></li><li><a href="/blog/vuepress/js/speech_in_js_synthesis.html" class="sidebar-link">JSä¸­çš„è¯­éŸ³åˆæˆâ€”â€”Speech Synthesis API</a></li><li><a href="/blog/vuepress/js/camera_in_js_trial.html" class="sidebar-link">JSæ§åˆ¶è®¾å¤‡æ‘„åƒå¤´åˆæ¢</a></li><li><a href="/blog/vuepress/js/shape_detection_api_trial.html" class="sidebar-link">æµè§ˆå™¨çš„å›¾åƒè¯†åˆ«APIåˆæ¢</a></li><li><a href="/blog/vuepress/js/simple_chatroom_using_socketio.html" class="sidebar-link">socket.ioå®ç°ç®€å•ç¾¤èŠ</a></li><li><a href="/blog/vuepress/js/communication_using_postmessage.html" class="sidebar-link">postMessageå®ç°çˆ¶å­é¡µé¢ç®€å•é€šä¿¡</a></li><li><a href="/blog/vuepress/js/upload_using_filereader_createobjecturl.html" class="sidebar-link">FileReaderä¸URL.createObjectURLå®ç°å›¾ç‰‡ã€è§†é¢‘ä¸Šä¼ é¢„è§ˆ</a></li><li><a href="/blog/vuepress/js/simple_code_preview.html" class="sidebar-link">å‰ç«¯å‡ è¡Œä»£ç ç®€å•å®ç°w3schoolä»£ç é¢„è§ˆ</a></li><li><a href="/blog/vuepress/js/scroll_behaviors.html" class="sidebar-link">ç®€å•ç›˜ç‚¹æµè§ˆå™¨çš„å‡ ç§æ»šåŠ¨è¡Œä¸º</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="è®©ä½ çš„ç½‘é¡µå¼€å£è¯´è¯-â€”â€”-audiocontext-api"><a href="#è®©ä½ çš„ç½‘é¡µå¼€å£è¯´è¯-â€”â€”-audiocontext-api" aria-hidden="true" class="header-anchor">#</a> è®©ä½ çš„ç½‘é¡µå¼€å£è¯´è¯ â€”â€” audioContext API</h1> <p><a href="https://xiaotianxia.github.io/blog/vuepress/js/useful_webapis_audiocontext.html?_=65312387656512" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>æµè§ˆå™¨å¯ä»¥åˆ©ç”¨CSS3ã€SVGå’Œcanvaså¤„ç†å›¾åƒå’Œä½œç”»ï¼Œç®€ç›´æˆäº†ç®€æ˜“ç‰ˆçš„Photoshopã€‚
æœ€è¿‘ç ”ç©¶äº†ä¸€ä¸‹audioContextï¼Œæ‰å‘ç°æ°´æ·±ä¸è¾“ä»–ä»¬å•Šï¼è™½ç„¶è‡ªå·±å‡ºèº«é€šä¿¡ä¸“ä¸šï¼Œä¹Ÿå­¦è¿‡è¯­éŸ³ä¿¡å·å¤„ç†ï¼Œ
ä½†å¯¹é‡Œé¢çš„åŸºæœ¬åŸç†è¿˜æ˜¯çŸ¥ä¹‹ç”šå°‘ï¼Œæ·±æ„Ÿå¯¹ä¸èµ·æ¯æ ¡çš„åŸ¹å…»...</p></blockquote> <h2 id="å‰è¨€"><a href="#å‰è¨€" aria-hidden="true" class="header-anchor">#</a> å‰è¨€</h2> <p>AudioContextè®¾è®¡çš„APIç®€ç›´å¤ªå¤šäº†ï¼Œè€Œä¸”ç›®å‰å¥½å¤šAPIè¿˜å¤„åœ¨å®éªŒé˜¶æ®µï¼Œå¹¶æœªè¢«æ‰€æœ‰æµè§ˆå™¨å®Œå…¨æ”¯æŒï¼Œ
æ‰€ä»¥æœ¬æ–‡ä¸æ‰“ç®—è¦†ç›–æ‰€æœ‰çŸ¥è¯†ï¼Œåªç®€å•å­¦ä¹ å‡ ä¸ªå¸¸ç”¨çš„APIã€‚å…ˆçŸ¥å…¶ç„¶ï¼Œå†çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä¹Ÿä¸å¤±ä¸ºä¸€ç§å­¦ä¹ æ–¹æ³•å˜›ã€‚
(å…¶å®å¥½å¤šæˆ‘æ˜¯çœŸçš„ä¸æ‡‚ ğŸ˜‚)</p> <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" aria-hidden="true" class="header-anchor">#</a> ç®€ä»‹</h2> <p>å…ˆæ¥ä¸€ä¸ªç®€å•çš„æ —å­ğŸŒ°â†“ï¼Œæ„Ÿå—ä¸‹å®ƒèƒ½åšä»€ä¹ˆâ€”â€”</p> <h3 id="demo1"><a href="#demo1" aria-hidden="true" class="header-anchor">#</a> demo1</h3> <div class="audio-wrapper" data-v-f2c0b5e4><form value="[object Object]" class="el-form el-form--label-left" data-v-f2c0b5e4><div class="el-form-item" data-v-f2c0b5e4><label class="el-form-item__label" style="width:120px;">éŸ³é‡:</label><div class="el-form-item__content" style="margin-left:120px;"><div role="slider" aria-valuemin="0" aria-valuemax="1" aria-orientation="horizontal" class="el-slider el-slider--with-input" data-v-f2c0b5e4><div debounce="300" class="el-slider__input el-input-number el-input-number--small"><span role="button" class="el-input-number__decrease"><i class="el-icon-minus"></i></span><span role="button" class="el-input-number__increase"><i class="el-icon-plus"></i></span><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" max="1" min="0" class="el-input__inner"><!----><!----><!----></div></div><div class="el-slider__runway show-input"><div class="el-slider__bar" style="width:0%;left:0%;"></div><div tabindex="0" class="el-slider__button-wrapper" style="left:0%;"><div class="el-tooltip el-slider__button"></div></div><!----><div class="el-slider__stop" style="left:10%;"></div><div class="el-slider__stop" style="left:20%;"></div><div class="el-slider__stop" style="left:30%;"></div><div class="el-slider__stop" style="left:40%;"></div><div class="el-slider__stop" style="left:50%;"></div><div class="el-slider__stop" style="left:60%;"></div><div class="el-slider__stop" style="left:70%;"></div><div class="el-slider__stop" style="left:80%;"></div><div class="el-slider__stop" style="left:90%;"></div></div></div><!----></div></div> <div class="el-form-item" data-v-f2c0b5e4><label class="el-form-item__label" style="width:120px;">éŸ³é‡å˜åŒ–æ›²çº¿:</label><div class="el-form-item__content" style="margin-left:120px;"><div class="el-select el-select--small" data-v-f2c0b5e4><!----><div class="el-input el-input--small el-input--suffix"><!----><input type="text" readonly="readonly" autocomplete="off" placeholder="è¯·é€‰æ‹©" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-select__caret el-input__icon el-icon-arrow-up"></i><!----><!----><!----><!----></span><!----></span><!----></div><div class="el-select-dropdown el-popper" style="min-width:;display:none;"><div class="el-scrollbar" style="display:none;"><div class="el-select-dropdown__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-select-dropdown__list"><!----><li class="el-select-dropdown__item selected" data-v-f2c0b5e4><span>çº¿æ€§</span></li> <li class="el-select-dropdown__item" data-v-f2c0b5e4><span>æŒ‡æ•°</span></li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div><p class="el-select-dropdown__empty">
          æ— æ•°æ®
        </p></div></div><!----></div></div> <div class="el-form-item" data-v-f2c0b5e4><label class="el-form-item__label" style="width:120px;">æ³¢å½¢:</label><div class="el-form-item__content" style="margin-left:120px;"><div class="el-select el-select--small" data-v-f2c0b5e4><!----><div class="el-input el-input--small el-input--suffix"><!----><input type="text" readonly="readonly" autocomplete="off" placeholder="è¯·é€‰æ‹©" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-select__caret el-input__icon el-icon-arrow-up"></i><!----><!----><!----><!----></span><!----></span><!----></div><div class="el-select-dropdown el-popper" style="min-width:;display:none;"><div class="el-scrollbar" style="display:none;"><div class="el-select-dropdown__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-select-dropdown__list"><!----><li class="el-select-dropdown__item selected" data-v-f2c0b5e4><span>sine</span></li> <li class="el-select-dropdown__item" data-v-f2c0b5e4><span>square</span></li> <li class="el-select-dropdown__item" data-v-f2c0b5e4><span>sawtooth</span></li> <li class="el-select-dropdown__item" data-v-f2c0b5e4><span>triangle</span></li> <li class="el-select-dropdown__item is-disabled" data-v-f2c0b5e4><span>custom</span></li></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div><p class="el-select-dropdown__empty">
          æ— æ•°æ®
        </p></div></div><!----></div></div> <div class="el-form-item" data-v-f2c0b5e4><label class="el-form-item__label" style="width:120px;">é¢‘ç‡(Hz):</label><div class="el-form-item__content" style="margin-left:120px;"><div role="slider" aria-valuemin="1" aria-valuemax="2000" aria-orientation="horizontal" class="el-slider el-slider--with-input" data-v-f2c0b5e4><div debounce="300" class="el-slider__input el-input-number el-input-number--small"><span role="button" class="el-input-number__decrease"><i class="el-icon-minus"></i></span><span role="button" class="el-input-number__increase"><i class="el-icon-plus"></i></span><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" max="2000" min="1" class="el-input__inner"><!----><!----><!----></div></div><div class="el-slider__runway show-input"><div class="el-slider__bar" style="width:-0.05002501250625312%;left:0%;"></div><div tabindex="0" class="el-slider__button-wrapper" style="left:-0.05002501250625312%;"><div class="el-tooltip el-slider__button"></div></div><!----></div></div><!----></div></div> <div class="el-form-item" data-v-f2c0b5e4><!----><div class="el-form-item__content" style="margin-left:120px;"><button type="button" class="el-button el-button--primary el-button--small" data-v-f2c0b5e4><!----><!----><span>å¼€å§‹</span></button><!----></div></div></form></div> <p>æ³¨æ„è¿™å¯ä¸æ˜¯ç”¨audioæ ‡ç­¾æ’­æ”¾çš„éŸ³é¢‘çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ç”¨jsæ§åˆ¶æµè§ˆå™¨å‘å‡ºçš„å£°éŸ³å“ˆã€‚å¯ä»¥è°ƒèŠ‚éŸ³é‡ã€é¢‘ç‡ç­‰å‚æ•°å†è¯•å¬ä¸€ä¸‹ã€‚</p> <p>æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿå…ˆçœ‹ä¸‹é¢è¿™ä¸ªå›¾ â€”â€”
<img src="/blog/vuepress/assets/img/audio-context.d57dd973.png" alt="">
è¿™å°±æ˜¯å®ç°å‡ºå£°å¿…é¡»çš„æµç¨‹å›¾ã€‚é¦–å…ˆéœ€è¦ä¸€ä¸ªéŸ³é¢‘ç¯å¢ƒ(audio context)ï¼Œ ç„¶åæœ‰ä¸€ä¸ªéŸ³é¢‘æ•°æ®çš„è¾“å…¥(input)ï¼Œå†åŠ ä¸Šå¤„ç†ç¨‹åº(effects)ï¼Œç„¶åæ˜¯éŸ³é¢‘çš„è¾“å‡º(destination)ï¼Œæœ€åæŠŠä»–ä»¬è¿èµ·æ¥(connection) â€”â€”</p> <p>éŸ³é¢‘æ•°æ®çš„è¾“å…¥å¯ä»¥æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ã€é¡µé¢ä¸Šçš„audioå…ƒç´ çš„éŸ³é¢‘ã€ä»ç”¨æˆ·è®¾å¤‡è¾“å…¥çš„éŸ³é¢‘æˆ–è§†é¢‘ã€è¿œç¨‹çš„éŸ³é¢‘æ–‡ä»¶ç­‰ã€‚</p> <p>å¤„ç†ç¨‹åºå¯ä»¥æ˜¯åˆ†æå™¨ã€å¤„ç†å™¨ç­‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œå³ç›´æ¥å°†å£°æºè¿æ¥åˆ°æ‰¬å£°å™¨ã€‚</p> <p>éŸ³é¢‘çš„è¾“å‡ºä¸€èˆ¬å°±æ˜¯ç”¨æˆ·è®¾å¤‡çš„æ‰¬å£°å™¨ã€‚</p> <p>åˆ›å»ºä¸€ä¸ªAudioContextå®ä¾‹ï¼Œè¿™æ˜¯éŸ³é¢‘å¤„ç†ç¨‹åºè¿è¡Œçš„ç¯å¢ƒ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> audioCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åˆ›å»ºä¸€ä¸ªæŒ¯è¡å™¨ï¼Œè¿™æ˜¯å£°éŸ³çš„æºå¤´</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> oscillator <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åˆ›å»ºä¸€ä¸ªå¢ç›ŠèŠ‚ç‚¹(éŸ³é‡èŠ‚ç‚¹)ï¼Œç”¨æ¥è°ƒèŠ‚éŸ³é‡çš„å˜åŒ–</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> gainNode <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è®¾ç½®éŸ³é‡å’ŒæŒ¯è¡å™¨å‚æ•°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>  <span class="token comment">// éŸ³é‡ 0~1</span>
oscillator<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'sine'</span><span class="token punctuation">;</span>   <span class="token comment">// æŒ¯è¡å™¨è¾“å‡ºæ­£å¼¦æ³¢</span>
oscillator<span class="token punctuation">.</span>frequency<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>  <span class="token comment">// æŒ¯è¡é¢‘ç‡200Hz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å„ç§è¿æ¥ï¼Œå‚ç…§ä¸Šé¢çš„æµç¨‹å›¾</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>oscillator<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å‘ç”ŸæºæŒ¯è¡å™¨è¿æ¥éŸ³é‡</span>
gainNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//éŸ³é‡è¿æ¥æ‰¬å£°å™¨</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¼€å§‹å‘å£°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>oscillator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ç»“æŸå‘å£°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>oscillator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> <span class="token constant">FADING_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç°åœ¨èµ·FADING_TIMEç§’åç»“æŸå‘å£°ï¼Œæ²¡æœ‰FADING_TIMEè¡¨ç¤ºç«‹åˆ»ç»“æŸ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä»¥ä¸‹çš„demoä¸­ï¼Œæ•´ä½“å¤§è‡´éƒ½æ˜¯è¿™ä¸ªæµç¨‹ï¼šåˆ›å»ºå£°æºâ†’ä¸­é—´å¤„ç†ç¨‹åºâ†’æ‰¬å£°å™¨ã€‚å½“ç„¶å¦‚æœä¸éœ€è¦è¾“å‡ºéŸ³æ•ˆï¼Œå°±ä¸éœ€è¦è¿æ¥åˆ°audioCtx.destinationå³å¯ã€‚</p> <p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å£°éŸ³çš„å˜åŒ–æ›²çº¿ï¼ŒAPIæä¾›ä¸¤ä¸ªæ–¹æ³•ï¼šlinearRampToValueAtTime å’Œ exponentialRampToValueAtTime ï¼Œåˆ†åˆ«è¡¨ç¤ºçº¿æ€§å˜åŒ–å’ŒæŒ‡æ•°å˜åŒ–ã€‚</p> <p>å®Œæ•´ä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">FADING_TIME</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            started<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            queryParams<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                gain<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
                gainChangeType<span class="token punctuation">:</span> <span class="token string">'linearRampToValueAtTime'</span><span class="token punctuation">,</span>
                frequency<span class="token punctuation">:</span> <span class="token number">196</span><span class="token punctuation">,</span>
                waveform<span class="token punctuation">:</span> <span class="token string">'sine'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">init</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">onSet</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>waveform<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>gain<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span>frequency<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>frequency<span class="token punctuation">;</span>
            
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">onStart</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>started <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">onStop</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token comment">//å…ˆåœ¨0.5ç§’å†…å˜åŒ–åˆ°0.001ï¼Œç„¶ååœæ­¢</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>gainChangeType<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">0.001</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> <span class="token constant">FADING_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> <span class="token constant">FADING_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>started <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>AudioContext <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>webkitAudioContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒaudioContext!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span>AudioContext <span class="token operator">||</span> webkitAudioContext<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="demo2"><a href="#demo2" aria-hidden="true" class="header-anchor">#</a> demo2</h3> <p>æ—¢ç„¶å¯ä»¥æ§åˆ¶å£°éŸ³çš„é¢‘ç‡ï¼Œé‚£ä¹ˆâ€œå“†æ¥å’ªâ€è¿™æ ·çš„ç®€å•éŸ³ç¬¦ä¹Ÿæ˜¯å¯ä»¥çš„äº†ã€‚æŸ¥äº†ä¸€ä¸‹<a href="http://www.360doc.com/content/11/0815/08/3416571_140455810.shtml" target="_blank" rel="noopener noreferrer">é’¢ç´é”®çš„é¢‘ç‡è¡¨<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œ
é€‰å–äº†ä¸€æ®µé¢‘ç‡ï¼Œä¾¿å¯ä»¥åšæˆä¸€ä¸ªç®€å•çš„å°é’¢ç´äº†ã€‚çœ‹ä¸‹é¢çš„æ —å­ğŸŒ°â†“</p> <div class="audio-wrapper" data-v-c8e24eba><ul class="piano" data-v-c8e24eba><li class="key white" data-v-c8e24eba></li><li class="key black" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li><li class="key black" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li><li class="key black" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li><li class="key black" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li><li class="key black" data-v-c8e24eba></li><li class="key white" data-v-c8e24eba></li></ul></div> <p>ä»£ç åŒdemo1ç›¸æ¯”ï¼Œåªä¸è¿‡æŠŠé¢‘ç‡è®¾ç½®æˆå›ºå®šçš„å‡ ä¸ªè€Œå·²ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">FADING_TIME</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token constant">FREQUENCY_LIST</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">261.626</span><span class="token punctuation">,</span> <span class="token number">277.183</span><span class="token punctuation">,</span> <span class="token number">293.665</span><span class="token punctuation">,</span> <span class="token number">311.127</span><span class="token punctuation">,</span> <span class="token number">329.628</span><span class="token punctuation">,</span> <span class="token number">349.228</span><span class="token punctuation">,</span> <span class="token number">369.994</span><span class="token punctuation">,</span> <span class="token number">391.995</span><span class="token punctuation">,</span> <span class="token number">415.305</span><span class="token punctuation">,</span> <span class="token number">440.000</span><span class="token punctuation">,</span> <span class="token number">466.164</span><span class="token punctuation">,</span> <span class="token number">493.883</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            queryParams<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                gain<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
                frequency<span class="token punctuation">:</span> <span class="token number">196</span><span class="token punctuation">,</span>
                waveform<span class="token punctuation">:</span> <span class="token string">'sine'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">init</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createOscillator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createGain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>waveform<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">.</span>gain<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryParams<span class="token punctuation">.</span>gain<span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">onPlay</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span>frequency<span class="token punctuation">.</span>value <span class="token operator">=</span> item<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>oscillator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> <span class="token constant">FADING_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>AudioContext <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>webkitAudioContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒaudioContext!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span>AudioContext <span class="token operator">||</span> webkitAudioContext<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>ä¸Šæ–‡è¯´äº†ï¼ŒéŸ³é¢‘æ•°æ®çš„è¾“å…¥å¯ä»¥æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ã€é¡µé¢ä¸Šçš„audioå…ƒç´ çš„éŸ³é¢‘ã€ä»ç”¨æˆ·è®¾å¤‡è¾“å…¥çš„éŸ³é¢‘æˆ–è§†é¢‘ã€è¿œç¨‹çš„éŸ³é¢‘æ–‡ä»¶ç­‰ã€‚
ä¸‹é¢ç»™å‡ºå‡ ä¸ªdemoæ¥æ¼”ç¤ºå£°éŸ³æ¥æºçš„å‡ ç§ä¸åŒæƒ…å†µï¼Œå¹¶ä¸”ç”¨canvaså±•ç¤ºäº†éŸ³é¢‘çš„é¢‘ç‡å˜åŒ–å›¾ã€‚</p> <div class="warning custom-block"><p class="custom-block-title">æ³¨æ„</p> <p>æœ‰çš„æµè§ˆå™¨ä¼šå‡ºç°æŠ¥é”™ï¼š<span class="txt-red">&quot;NotSupportedError: Failed to construct 'AudioContext': The number of hardware contexts provided (6) is greater than or equal to the maximum bound (6).&quot;</span>ï¼Œ
åŸå› çŒœæµ‹æ˜¯æœ‰çš„ç‰ˆæœ¬é™åˆ¶äº†ç½‘é¡µåŒæ—¶å­˜åœ¨çš„audioContextå®ä¾‹çš„æ•°é‡ï¼ˆé™åˆ¶ä¸º6ä¸ªï¼Ÿï¼‰ï¼Œå› ä¸ºæ¯ä¸ªdemoé‡Œè‡³å°‘ä¼šä¼ å»ºä¸€ä¸ªå®ä¾‹ï¼Œå¯èƒ½ä¼šè¶…è¿‡é™åˆ¶å¯¼è‡´æŠ¥é”™ã€‚</p> <p>æˆ‘ç”¨çš„chromium(58+)ä¼šæŠ¥é”™ï¼Œchrome(68+)å°±ä¸ä¼šï¼Œå…·ä½“æ”¯æŒæƒ…å†µæ²¡åšæ·±ç©¶ã€‚åŒå­¦ä»¬å¦‚æœé‡åˆ°æŠ¥é”™æƒ…å†µï¼Œä¸å¦¨è¯•ä¸‹å‡çº§æµè§ˆå™¨ã€‚</p></div> <p>é™¤äº†ä¸Šé¢çš„æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„æ–¹æ³•ï¼š<strong>createAnalyser</strong>ã€<strong>createScriptProcessor</strong>ã€‚</p> <p>createAnalyser()æ–¹æ³•èƒ½åˆ›å»ºä¸€ä¸ªAnalyserNodeï¼Œå¯ä»¥ç”¨æ¥è·å–éŸ³é¢‘æ—¶é—´å’Œé¢‘ç‡æ•°æ®ï¼Œä»¥åŠå®ç°æ•°æ®å¯è§†åŒ–ã€‚</p> <p>createScriptProcessor()æ–¹æ³•åˆ›å»ºä¸€ä¸ªScriptProcessorNodeï¼Œç”¨äºé€šè¿‡JavaScriptå¤„ç†éŸ³é¢‘ã€‚</p> <p>ä¸‹é¢å‡ ä¸ªä»£ç ç‰‡æ®µæ˜¯ä»¥ä¸‹demoéƒ½ä¼šç”¨åˆ°çš„</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">initAnalyser</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//åˆ›å»ºåˆ†æå™¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>analyser <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createAnalyser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å¿«é€Ÿå‚…é‡Œå¶å˜æ¢å‚æ•°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span>fftSize <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span>
    <span class="token comment">//bufferArrayé•¿åº¦</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>bufferLength <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span>frequencyBinCount<span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºbufferArrayï¼Œç”¨æ¥è£…éŸ³é¢‘æ•°æ®</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dataArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bufferLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">initScriptProcessor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//åˆ›å»ºå¤„ç†å™¨ï¼Œå‚æ•°åˆ†åˆ«æ˜¯ç¼“å­˜åŒºå¤§å°ã€è¾“å…¥å£°é“æ•°ã€è¾“å‡ºå£°é“æ•°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scriptProcessor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createScriptProcessor</span><span class="token punctuation">(</span><span class="token number">2048</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ†æå™¨è¿æ¥å¤„ç†å™¨ï¼Œå¤„ç†å™¨è¿æ¥æ‰¬å£°å™¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scriptProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scriptProcessor<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>scriptProcessorå¯ä»¥ç»‘å®šä¸€ä¸ªäº‹ä»¶audioprocessï¼Œå½“scriptProcessorè¿æ¥ä¸Šåˆ†æå™¨analyserï¼Œä¸”æœ‰éŸ³é¢‘æ•°æ®æ—¶ï¼Œäº‹ä»¶è¢«è§¦å‘ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">bindDrawEvent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scriptProcessor<span class="token punctuation">.</span>onaudioprocess <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>draw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>canvasç»˜ç”»ä»£ç </p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">draw</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> cWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
        cHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
        barWidth <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token number">.5</span> <span class="token operator">*</span> cWidth <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bufferLength<span class="token punctuation">)</span><span class="token punctuation">,</span>
        barHeight<span class="token punctuation">,</span>
        x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>canvasCtx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cWidth<span class="token punctuation">,</span> cHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ†æå™¨è·å–éŸ³é¢‘æ•°æ®â€œåˆ‡ç‰‡â€</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span><span class="token function">getByteFrequencyData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//æŠŠæ¯ä¸ªéŸ³é¢‘â€œåˆ‡ç‰‡â€ç”»åœ¨ç”»å¸ƒä¸Š</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bufferLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        barHeight <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token number">0.4</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvasCtx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> cHeight <span class="token operator">-</span> barHeight<span class="token punctuation">,</span> barWidth<span class="token punctuation">,</span> barHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        x <span class="token operator">+=</span> barWidth <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="ğŸŒ°-æ¥è‡ªaudioå…ƒç´ "><a href="#ğŸŒ°-æ¥è‡ªaudioå…ƒç´ " aria-hidden="true" class="header-anchor">#</a> ğŸŒ° æ¥è‡ªaudioå…ƒç´ </h3> <div class="audio-wrapper" data-v-fc6677a4><div class="analyser" data-v-fc6677a4><canvas width="100%" height="100" data-v-fc6677a4></canvas></div> <h3 class="title" data-v-fc6677a4>ç‚¹å‡»æ’­æ”¾ï¼š</h3> <div data-v-fc6677a4><audio controls="controls" src="https://reneroth.org/projects/codepen/dornendiamant.ogg" data-v-fc6677a4></audio></div></div> <p>æ ¸å¿ƒä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.audio'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">.</span>crossOrigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createMediaElementSource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bindDrawEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ğŸŒ°-æ¥è‡ªç”¨æˆ·è®¾å¤‡"><a href="#ğŸŒ°-æ¥è‡ªç”¨æˆ·è®¾å¤‡" aria-hidden="true" class="header-anchor">#</a> ğŸŒ° æ¥è‡ªç”¨æˆ·è®¾å¤‡</h3> <div class="audio-wrapper" data-v-62b8a20a><div class="analyser" data-v-62b8a20a><canvas width="100%" height="100" data-v-62b8a20a></canvas></div> <span class="title" data-v-62b8a20a>ç‚¹å‡»è¯´è¯ </span> <button type="button" class="el-button el-button--default el-button--small" data-v-62b8a20a><!----><i class="el-icon-phone-outline"></i><!----></button></div> <p>æ ¸å¿ƒä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span>audio<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>stream <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createMediaStreamSource</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bindDrawEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> error <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'å‡ºé”™ï¼Œè¯·ç¡®ä¿å·²å…è®¸æµè§ˆå™¨è·å–éŸ³é¢‘æƒé™'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="ğŸŒ°-æ¥è‡ªè¿œç¨‹éŸ³é¢‘"><a href="#ğŸŒ°-æ¥è‡ªè¿œç¨‹éŸ³é¢‘" aria-hidden="true" class="header-anchor">#</a> ğŸŒ° æ¥è‡ªè¿œç¨‹éŸ³é¢‘</h3> <div class="audio-wrapper" data-v-d7e974b0><div class="analyser" data-v-d7e974b0><canvas width="100%" height="100" data-v-d7e974b0></canvas></div> <div class="control" data-v-d7e974b0><i class="el-icon-caret-right" data-v-d7e974b0></i></div> <div class="song" data-v-d7e974b0><ul data-v-d7e974b0><li data-v-d7e974b0><a href="javascript:;" data-v-d7e974b0>è¿œç¨‹éŸ³ä¹</a></li></ul></div></div> <p>æ ¸å¿ƒä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">initSource</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">onPlay</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//é‡æ–°æ’­æ”¾éœ€è¦é‡æ–°åˆ›å»ºbuffer</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span>buffer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>buffer<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>playResume<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>playStart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>playResume <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>playing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">onPause</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playResume <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playResume <span class="token operator">-=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>playStart<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playResume <span class="token operator">/=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playResume <span class="token operator">%=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">play</span> <span class="token punctuation">(</span>url<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">==</span> index<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index<span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestSong</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">requestSong</span> <span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&quot;arraybuffer&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">decodeAudioData</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>response<span class="token punctuation">,</span> buffer <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>playing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>buffer <span class="token operator">=</span> buffer<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">playSound</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bindDrawEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">playSound</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span>buffer <span class="token operator">=</span> buffer<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>playStart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h3 id="ğŸŒ°-æ¥è‡ªæœ¬åœ°éŸ³é¢‘æ–‡ä»¶"><a href="#ğŸŒ°-æ¥è‡ªæœ¬åœ°éŸ³é¢‘æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> ğŸŒ° æ¥è‡ªæœ¬åœ°éŸ³é¢‘æ–‡ä»¶</h3> <div class="audio-wrapper" data-v-d130ebd0><div class="analyser" data-v-d130ebd0><canvas width="100%" height="100" data-v-d130ebd0></canvas></div> <div class="file" data-v-d130ebd0><input type="file" accept="audio/*" data-v-d130ebd0> <!----></div></div> <p>æ ¸å¿ƒä»£ç ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">onProcessFile</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>file <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stream <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span>
        audio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audio<span class="token punctuation">.</span>src <span class="token operator">=</span> stream<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    audio<span class="token punctuation">.</span>oncanplay <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initAudioSource</span><span class="token punctuation">(</span>audio<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>showCancel <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">onCancel</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span>state <span class="token operator">!=</span> <span class="token string">'closed'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>fileInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span>showCancel <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">initAudioSource</span> <span class="token punctuation">(</span>audio<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fileInput <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'fileInput'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioCtx<span class="token punctuation">.</span><span class="token function">createMediaElementSource</span><span class="token punctuation">(</span>audio<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>audioSource<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gainNode<span class="token punctuation">)</span><span class="token punctuation">;</span>

    audio<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bindDrawEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="ç”¨é€”"><a href="#ç”¨é€”" aria-hidden="true" class="header-anchor">#</a> ç”¨é€”</h2> <p>å¯ä»¥ç”¨æ¥å¹²å•¥å‘¢ï¼Ÿ</p> <ul><li>æ¸¸æˆéŸ³æ•ˆ?</li> <li>éŸ³ä¹ç½‘ç«™?</li> <li>H5å®£ä¼ é¡µ?</li> <li>ç”¨å£°éŸ³æ¥è£…é¥°è‡ªå·±çš„åšå®¢?</li> <li>ç­‰ç­‰</li></ul> <p>æ€»ä¹‹å¯ä»¥å‡ºç°å£°éŸ³çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨åˆ°ã€‚</p> <h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank" rel="noopener noreferrer">Web Audio API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.zhangxinxu.com/wordpress/2017/06/html5-web-audio-api-js-ux-voice/" target="_blank" rel="noopener noreferrer">åˆ©ç”¨HTML5 Web Audio APIç»™ç½‘é¡µJSäº¤äº’å¢åŠ å£°éŸ³<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://css-tricks.com/introduction-web-audio-api/" target="_blank" rel="noopener noreferrer">Introduction to Web Audio API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.360doc.com/content/11/0815/08/3416571_140455810.shtml" target="_blank" rel="noopener noreferrer">é’¢ç´å„é”®å¯¹åº”é¢‘ç‡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API" target="_blank" rel="noopener noreferrer">Visualizations with Web Audio API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€è¿‘æ›´æ–°: </span> <span class="time">4/24/2019, 11:03:05 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/blog/vuepress/js/useful_webapis_mediarecorder.html" class="prev">
          ç”¨æµè§ˆå™¨è½»æ¾å½•åˆ¶éŸ³é¢‘ã€è§†é¢‘â€”â€” MediaRecorder API
        </a></span> <span class="next"><a href="/blog/vuepress/js/useful_webapis_fullscreen.html">
          å‡ ä¸ªæœ‰ç”¨çš„Web APIâ€”â€”å…¨å±æ¨¡å¼
        </a>
        â†’
      </span></p></div>  <div class="comment-tool"><div id="gitalk-container"></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/vuepress/assets/js/app.fdeb7e5c.js" defer></script><script src="/blog/vuepress/assets/js/4.e99f9f1f.js" defer></script><script src="/blog/vuepress/assets/js/74.8c7f7da5.js" defer></script><script src="/blog/vuepress/assets/js/32.8fdde266.js" defer></script><script src="/blog/vuepress/assets/js/33.01e8d716.js" defer></script><script src="/blog/vuepress/assets/js/19.2ccaa154.js" defer></script><script src="/blog/vuepress/assets/js/20.f31a233d.js" defer></script><script src="/blog/vuepress/assets/js/21.6b987c57.js" defer></script><script src="/blog/vuepress/assets/js/22.3177d131.js" defer></script><script src="/blog/vuepress/assets/js/30.cfdc9869.js" defer></script>
  </body>
</html>
