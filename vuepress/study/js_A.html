<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js 基础 | 前端学习笔记</title>
    <meta name="description" content="前端大乱炖——web前端,HTML5,CSS3,Javascript,SVG,canvas,vue...">
    <meta name="keywords" content="web前端,HTML5,CSS3,Javascript,SVG,canvas,vue...">
  <meta name="anthor" content="Denzel">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="icon" href="/blog/vuepress/logo.png">
    
    <link rel="preload" href="/blog/vuepress/assets/css/0.styles.bb98158b.css" as="style"><link rel="preload" href="/blog/vuepress/assets/js/app.fda7a6dd.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/4.2abcc4b6.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/115.19cb8bcc.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/36.18293405.js" as="script"><link rel="prefetch" href="/blog/vuepress/assets/js/1.8dee54cf.js"><link rel="prefetch" href="/blog/vuepress/assets/js/10.9ba176b9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/100.8e773fac.js"><link rel="prefetch" href="/blog/vuepress/assets/js/101.1ddcdf6c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/102.a8500895.js"><link rel="prefetch" href="/blog/vuepress/assets/js/103.a87d38fb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/104.b50e5a51.js"><link rel="prefetch" href="/blog/vuepress/assets/js/105.07ddf747.js"><link rel="prefetch" href="/blog/vuepress/assets/js/106.f3b0ebec.js"><link rel="prefetch" href="/blog/vuepress/assets/js/107.ccee8106.js"><link rel="prefetch" href="/blog/vuepress/assets/js/108.dc34a230.js"><link rel="prefetch" href="/blog/vuepress/assets/js/109.53a493fe.js"><link rel="prefetch" href="/blog/vuepress/assets/js/11.d47e1904.js"><link rel="prefetch" href="/blog/vuepress/assets/js/110.b8c8293e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/111.cd3d6054.js"><link rel="prefetch" href="/blog/vuepress/assets/js/112.a2beafee.js"><link rel="prefetch" href="/blog/vuepress/assets/js/113.798d482a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/114.0597c545.js"><link rel="prefetch" href="/blog/vuepress/assets/js/116.39bda85e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/117.e464b64e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/118.35b431b2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/119.0c0ed994.js"><link rel="prefetch" href="/blog/vuepress/assets/js/12.38e7ef23.js"><link rel="prefetch" href="/blog/vuepress/assets/js/120.37028f2f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/121.53ca3d63.js"><link rel="prefetch" href="/blog/vuepress/assets/js/122.77d33bf9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/123.20f9acb8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/124.c253d6a1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/125.eb34e1fd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/126.5797a95c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/13.75d247e9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/14.45f1dfb5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/15.c71ec303.js"><link rel="prefetch" href="/blog/vuepress/assets/js/16.020eecec.js"><link rel="prefetch" href="/blog/vuepress/assets/js/17.12a8cbf2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/18.1ef2acba.js"><link rel="prefetch" href="/blog/vuepress/assets/js/19.b447d9b0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/20.0d6e5c1a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/21.76464720.js"><link rel="prefetch" href="/blog/vuepress/assets/js/22.5d902d21.js"><link rel="prefetch" href="/blog/vuepress/assets/js/23.f25bc28a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/24.c13e54ea.js"><link rel="prefetch" href="/blog/vuepress/assets/js/25.3fce5f27.js"><link rel="prefetch" href="/blog/vuepress/assets/js/26.1d294b9d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/27.c9bfa350.js"><link rel="prefetch" href="/blog/vuepress/assets/js/28.0ce0c2a0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/29.ca2370f0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/30.f7995668.js"><link rel="prefetch" href="/blog/vuepress/assets/js/31.82f6b3e0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/32.d386b1ec.js"><link rel="prefetch" href="/blog/vuepress/assets/js/33.d0512493.js"><link rel="prefetch" href="/blog/vuepress/assets/js/34.207e87f6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/35.c5082d2e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/37.9a88b6e4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/38.fa975072.js"><link rel="prefetch" href="/blog/vuepress/assets/js/39.3d4e6ff2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/40.4314ad33.js"><link rel="prefetch" href="/blog/vuepress/assets/js/41.40f99029.js"><link rel="prefetch" href="/blog/vuepress/assets/js/42.7c313288.js"><link rel="prefetch" href="/blog/vuepress/assets/js/43.e9a0b997.js"><link rel="prefetch" href="/blog/vuepress/assets/js/44.987954db.js"><link rel="prefetch" href="/blog/vuepress/assets/js/45.d8c95959.js"><link rel="prefetch" href="/blog/vuepress/assets/js/46.77d98987.js"><link rel="prefetch" href="/blog/vuepress/assets/js/47.4e8e0a84.js"><link rel="prefetch" href="/blog/vuepress/assets/js/48.01982d54.js"><link rel="prefetch" href="/blog/vuepress/assets/js/49.187202c8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/5.7c7ad952.js"><link rel="prefetch" href="/blog/vuepress/assets/js/50.db882f5b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/51.d4784f93.js"><link rel="prefetch" href="/blog/vuepress/assets/js/52.2a43986a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/53.badef5a0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/54.6a499f79.js"><link rel="prefetch" href="/blog/vuepress/assets/js/55.61db07d7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/56.0ca47d6d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/57.bf0cb229.js"><link rel="prefetch" href="/blog/vuepress/assets/js/58.d707434c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/59.32ae5fc0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/6.628c64be.js"><link rel="prefetch" href="/blog/vuepress/assets/js/60.0d5cb656.js"><link rel="prefetch" href="/blog/vuepress/assets/js/61.f574ed09.js"><link rel="prefetch" href="/blog/vuepress/assets/js/62.7741b103.js"><link rel="prefetch" href="/blog/vuepress/assets/js/63.a9131eb4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/64.e4ce9e13.js"><link rel="prefetch" href="/blog/vuepress/assets/js/65.dabdafc7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/66.44dbafc3.js"><link rel="prefetch" href="/blog/vuepress/assets/js/67.7a5b957e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/68.71ea72b4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/69.5463ca3c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/7.d60108a9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/70.94b00dcc.js"><link rel="prefetch" href="/blog/vuepress/assets/js/71.bd03a347.js"><link rel="prefetch" href="/blog/vuepress/assets/js/72.39b4d055.js"><link rel="prefetch" href="/blog/vuepress/assets/js/73.f0a17985.js"><link rel="prefetch" href="/blog/vuepress/assets/js/74.ec2967d2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/75.dbcc56aa.js"><link rel="prefetch" href="/blog/vuepress/assets/js/76.844ac42d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/77.72e75129.js"><link rel="prefetch" href="/blog/vuepress/assets/js/78.07cd6ed0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/79.6d26ce74.js"><link rel="prefetch" href="/blog/vuepress/assets/js/8.21c2feb0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/80.5cc3e92e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/81.17c754e4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/82.0bab57ed.js"><link rel="prefetch" href="/blog/vuepress/assets/js/83.c31b83c9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/84.132b4a33.js"><link rel="prefetch" href="/blog/vuepress/assets/js/85.503b8636.js"><link rel="prefetch" href="/blog/vuepress/assets/js/86.848c31c4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/87.cab1b8bd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/88.aa4af2c9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/89.369feb05.js"><link rel="prefetch" href="/blog/vuepress/assets/js/9.4a85a767.js"><link rel="prefetch" href="/blog/vuepress/assets/js/90.205dfa29.js"><link rel="prefetch" href="/blog/vuepress/assets/js/91.88f41d23.js"><link rel="prefetch" href="/blog/vuepress/assets/js/92.2bfa6c62.js"><link rel="prefetch" href="/blog/vuepress/assets/js/93.402858fd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/94.5f06b4a8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/95.383f5c69.js"><link rel="prefetch" href="/blog/vuepress/assets/js/96.0912f565.js"><link rel="prefetch" href="/blog/vuepress/assets/js/97.68bb1607.js"><link rel="prefetch" href="/blog/vuepress/assets/js/98.1173622a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/99.410d997e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/vendors~notification.31e92d25.js">
    <link rel="stylesheet" href="/blog/vuepress/assets/css/0.styles.bb98158b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/vuepress/" class="home-link router-link-active"><img src="/blog/vuepress/logo.png" alt="前端学习笔记" class="logo"> <span class="site-name can-hide">前端学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">其他</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link router-link-active">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">其他</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link router-link-active">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>study</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vuepress/study/" class="sidebar-link">标签</a></li><li><a href="/blog/vuepress/study/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/blog/vuepress/study/js_A.html" class="active sidebar-link">js 基础</a></li><li><a href="/blog/vuepress/study/js_AA.html" class="sidebar-link">js 进阶</a></li><li><a href="/blog/vuepress/study/js_AAA.html" class="sidebar-link">js 高级</a></li><li><a href="/blog/vuepress/study/css_A.html" class="sidebar-link">CSS A</a></li><li><a href="/blog/vuepress/study/css_AA.html" class="sidebar-link">CSS AA</a></li><li><a href="/blog/vuepress/study/css_AAA.html" class="sidebar-link">CSS AAA</a></li><li><a href="/blog/vuepress/study/promise.html" class="sidebar-link">Promise</a></li><li><a href="/blog/vuepress/study/performance.html" class="sidebar-link">性能</a></li><li><a href="/blog/vuepress/study/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/vuepress/study/vue_code.html" class="sidebar-link">vue code</a></li><li><a href="/blog/vuepress/study/algorithm.html" class="sidebar-link">算法</a></li><li><a href="/blog/vuepress/study/algorithm-common.html" class="sidebar-link">常见算法</a></li><li><a href="/blog/vuepress/study/webpack_base.html" class="sidebar-link">webpack 基础</a></li><li><a href="/blog/vuepress/study/webpack_advance.html" class="sidebar-link">webpack 进阶</a></li><li><a href="/blog/vuepress/study/node.html" class="sidebar-link">node</a></li><li><a href="/blog/vuepress/study/es6.html" class="sidebar-link">es6</a></li><li><a href="/blog/vuepress/study/questions.html" class="sidebar-link">问题</a></li><li><a href="/blog/vuepress/study/mobile.html" class="sidebar-link">移动端</a></li><li><a href="/blog/vuepress/study/http.html" class="sidebar-link">http</a></li><li><a href="/blog/vuepress/study/security.html" class="sidebar-link">安全性</a></li><li><a href="/blog/vuepress/study/diy.html" class="sidebar-link">DIY系列</a></li><li><a href="/blog/vuepress/study/api.html" class="sidebar-link">API</a></li><li><a href="/blog/vuepress/study/browser.html" class="sidebar-link">浏览器原理</a></li><li><a href="/blog/vuepress/study/conception.html" class="sidebar-link">概念</a></li><li><a href="/blog/vuepress/study/engineering.html" class="sidebar-link">工程化</a></li><li><a href="/blog/vuepress/study/linux.html" class="sidebar-link">linux</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="js-基础"><a href="#js-基础" aria-hidden="true" class="header-anchor">#</a> js 基础</h1> <h2 id="ajax请求的过程"><a href="#ajax请求的过程" aria-hidden="true" class="header-anchor">#</a> ajax请求的过程 ?</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1.创建ajax对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//为了兼容IE6</span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">'Microsoft.XMLHTTP'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2.连接服务器</span>
<span class="token comment">// 连接服务器open(方法GET/POST，请求地址， 异步传输)</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span>  <span class="token string">'data.txt'</span><span class="token punctuation">,</span>  <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3.发送请求</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4.接收返回数据</span>
<span class="token comment">/*
** 每当readyState改变时，就会触发onreadystatechange事件
** readyState属性存储有XMLHttpRequest的状态信息
** 0 ：请求未初始化
** 1 ：服务器连接已建立
** 2 ：请求已接受
** 3 : 请求处理中
** 4 ：请求已完成，且相应就绪
*/</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
        ** Http状态码
        ** 1xx ：信息展示
        ** 2xx ：成功
        ** 3xx ：重定向
        ** 4xx : 客户端错误
        ** 5xx ：服务器端错误
        */</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>failed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">failed</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="dom事件流"><a href="#dom事件流" aria-hidden="true" class="header-anchor">#</a> DOM事件流 ?</h2> <p>传递方向：先自顶向下(capture阶段), 再自下而上(bubble阶段)，即先执行捕获类型的事件，再执行冒泡类型的事件，最后执行浏览器默认行为。</p> <p>参考<a href="https://juejin.im/post/5bf6330f6fb9a049b41c1934" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="js原型"><a href="#js原型" aria-hidden="true" class="header-anchor">#</a> js原型 ?</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>JS 在创建对象（不论是普通对象还是函数对象）的时候，都有一个叫做__proto__的内置属性，用于指向创建它的构造函数的原型对象，person._<em>proto</em>_ == Person.prototype。</li> <li>每个对象都有__proto__属性，但只有函数对象才有 prototype 属性</li> <li>所有对象的__proto__都指向其构造器的 prototype，如[]._<em>proto</em>_== Array.prototype。</li> <li>person 是 Person 的一个实例，构造函数的原型 Person.prototype，也是 Person 的一个实例。
实例的构造器就是 Person，=&gt;</li></ul> <p>person.constructor == Person，</p> <p>Person.prototype.constructor == Person，</p> <p>person._<em>proto</em>_ == Person.prototype。</p> <ul><li>所有函数对象__proto__都指向 Function.prototype，它是一个空函数。</li> <li>Function.prototype 是唯一一个typeof XXX.prototype为“function”的prototype，其他的都是“object”。</li></ul> <p>参考:
<a href="https://www.jianshu.com/p/dee9f8b14771" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.jianshu.com/p/652991a67186" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.jianshu.com/p/a4e1e7b6f4f8" target="_blank" rel="noopener noreferrer">3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承 ?</h2> <p><a href="/blog/vuepress/study/es6.html#class">es6继承</a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 常用的继承方法： 寄生组合式继承  see: https://zhuanlan.zhihu.com/p/25578222</span>
<span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent name:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> parentName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 借用构造函数实现对实例属性的继承，类似 super()</span>
    Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> parentName<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    
<span class="token punctuation">}</span>

<span class="token comment">// 使用原型链实现对原型属性和方法的继承</span>
Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 这里的几种其他写法，见下</span>
Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span>

Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child name:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token string">'father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// parent name: father</span>

<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'son'</span><span class="token punctuation">,</span> <span class="token string">'father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// child name: son</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>Child.prototype = Object.create(Parent.prototype); Child.prototype.constructor = Child;  // 这里的几种其他写法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1： 手动实现 Object.create</span>
<span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> proto<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 2：es6  setPrototypeOf   慢  see: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span> Parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 3：__proto__</span>
    Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token comment">// 或</span>
    Child<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> Parent<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参考：
<a href="https://zhuanlan.zhihu.com/p/25578222" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://juejin.im/post/5c433e216fb9a049c15f841b" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="es5-继承和-es6-继承的区别？"><a href="#es5-继承和-es6-继承的区别？" aria-hidden="true" class="header-anchor">#</a> es5 继承和 es6 继承的区别？</h2> <ol><li>子类__proto__属性不一样</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// es6 继承</span>
<span class="token keyword">class</span> <span class="token class-name">Super</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Super</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Sub<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Super<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>子类可以直接通过 <strong>proto</strong> 寻址到父类。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// es5 继承</span>
<span class="token keyword">function</span> <span class="token function">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

Sub<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Sub<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Sub<span class="token punctuation">;</span>

<span class="token keyword">var</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Sub<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Function<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>而通过 ES5 的方式，Sub.<strong>proto</strong> === Function.prototype</p> <ol start="2"><li>ES5 和 ES6 子类 this 生成顺序不同。ES5 的继承先生成了子类实例，再调用父类的构造函数修饰子类实例，ES6 的继承先生成父类实例，再调用子类的构造函数修饰父类实例。这个差别使得 ES6 可以继承内置对象。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyES5Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Array<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// it's useless</span>
<span class="token keyword">const</span> arrayES5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyES5Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// arrayES5: MyES5Array {}</span>

<span class="token keyword">class</span> <span class="token class-name">MyES6Array</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// it's ok</span>
<span class="token keyword">const</span> arrayES6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyES6Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// arrayES6: MyES6Array(3) []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/20</p> <h2 id="js-类型及其判断"><a href="#js-类型及其判断" aria-hidden="true" class="header-anchor">#</a> js 类型及其判断 ?</h2> <h3 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h3> <ul><li>基本数据类型：原始数据类型，包括undefined、null、Boolean、Number、String、Symbol (ES6新增，表示独一无二的值)。</li> <li>引用数据类型：统称为Object对象，主要包括对象、数组和函数。</li> <li>基本类型值的比较：
<ul><li>== 只进行值的比较,会进行数据类型的转换。</li> <li>===不仅进行值得比较，还要进行数据类型的比较。</li></ul></li> <li>引用类型值的比较：是引用的比较</li> <li>存储位置：基本类型存放在栈区，引用类型同时保存在栈和堆中，其指针存在栈区，指针指向堆中该实体的起始地址。</li></ul> <h3 id="类型判断"><a href="#类型判断" aria-hidden="true" class="header-anchor">#</a> 类型判断</h3> <h4 id="typeof"><a href="#typeof" aria-hidden="true" class="header-anchor">#</a> typeof</h4> <p><strong>typeof返回一个表示数据类型的字符串</strong>，返回结果包括：'number'、'boolean'、'string'、'symbol'、'object'、'undefined'、'function'等7种数据类型，
但不能判断null、array、Date、RegExp。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol 有效</span>
    <span class="token keyword">typeof</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// string 有效</span>
    <span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// number 有效</span>
    <span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//boolean 有效</span>
    <span class="token keyword">typeof</span> undefined<span class="token punctuation">;</span> <span class="token comment">//undefined 有效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function 有效</span>

    <span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>数组和对象返回的都是object，这时就需要使用instanceof来判断。</p> <h4 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h4> <p><strong>instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="constructor"><a href="#constructor" aria-hidden="true" class="header-anchor">#</a> constructor</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> aa<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Array<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>constructor<span class="token operator">===</span>RegExp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor<span class="token operator">===</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

    <span class="token keyword">var</span> reg<span class="token operator">=</span><span class="token regex">/^$/</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>constructor<span class="token operator">===</span>RegExp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Object<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="object-prototype-tostring-call"><a href="#object-prototype-tostring-call" aria-hidden="true" class="header-anchor">#</a> Object.prototype.toString.call()</h4> <p><strong>Object.prototype.toString.call() 最准确最常用的方式</strong>。首先获取Object原型上的toString方法，让方法执行，让toString方法中的this指向第一个参数的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [object String]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [object Number]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Boolean]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Function]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object RegExp]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Error]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object HTMLDocument]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Window] window是全局对象global的引用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="注意点"><a href="#注意点" aria-hidden="true" class="header-anchor">#</a> 注意点</h4> <ul><li>instanceof 三大弊端：
<ul><li>对于基本数据类型来说，字面量方式创建出来的结果和实例方式创建的是有一定的区别的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token comment">//false</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>只要在当前实例的原型链上，我们用其检测出来的结果都是true。在类的原型继承中，我们最后检测出来的结果未必准确。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>不能检测null 和 undefined，对于特殊的数据类型null和undefined，他们的所属类是Null和Undefined，但是浏览器把这两个类保护起来了，不允许我们在外面访问使用。
从 Object.prototype.toString.call(null); // [object Null] 可以看出。
但可以这样</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//判断null</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">typeof</span> a <span class="token comment">// &quot;object&quot;;</span>
    a <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true;</span>

    <span class="token comment">//判断undefined</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
    <span class="token keyword">typeof</span> b <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    b <span class="token operator">===</span> undefined <span class="token comment">// true;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li>constructor 两大弊端：
<ul><li>null 和 undefined 是无效的对象，因此是不会有 constructor 存在的，这两种类型的数据需要通过其他方式来判断。</li> <li>函数的 constructor 是不稳定的，这个主要体现在把类的原型进行重写，在重写的过程中很有可能出现把之前的constructor给覆盖了，这样检测出来的结果就是不准确的。</li></ul></li></ul> <p>参考
<a href="https://github.com/ljianshu/Blog/issues/4" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="传统全局-isnan、isfinite-和-number-isnan-、-number-isfinite-的区别"><a href="#传统全局-isnan、isfinite-和-number-isnan-、-number-isfinite-的区别" aria-hidden="true" class="header-anchor">#</a> 传统全局 isNaN、isFinite 和 Number.isNaN 、 Number.isFinite 的区别</h2> <p>传统的全局方法 isFinite() 、 isNaN() 与 Number.isNaN 、 Number.isFinite 的区别在于，传统方法先调用Number() 将非数值的值转为数值，再进行判断，而后两个新方法只对数值有效， Number.isFinite() 对于非数值一律返回false, Number.isNaN() 只有对于 NaN 才返回 true ，非 NaN 一律返回 false 。<a href="http://es6.ruanyifeng.com/#docs/number" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;NaN&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;NaN&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><a href="https://segmentfault.com/a/1190000015142897" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="this-指向问题"><a href="#this-指向问题" aria-hidden="true" class="header-anchor">#</a> this 指向问题</h2> <p><a href="https://juejin.im/post/5e6358256fb9a07cd80f2e70" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>默认绑定
<ul><li>非严格模式下 this 指向全局对象, 严格模式下 this 会绑定到 undefined</li></ul></li> <li>隐式绑定
<ul><li>当函数引用有上下文对象时, 如 obj.foo() 的调用方式, foo 内的 this 指向 obj</li> <li>this 永远指向最后调用它的那个对象， 匿名函数的 this 永远指向 window</li> <li>隐式绑定的隐式丢失问题 两种情况
<ul><li>使用另一个变量来给函数取别名</li> <li>将函数作为参数传递时会被隐式赋值，回调函数丢失 this 绑定</li></ul></li></ul></li> <li>显式绑定
<ul><li>通过 call 、 apply 、 bind 方法直接指定 this 的绑定对象, 如f oo.call(obj)</li> <li>使用 call 或者 apply 的函数是会直接执行的，bind 是创建一个新的函数，需要手动调用才会执行</li> <li>如果 call 、 apply 、 bind 接收到的第一个参数是空或者 null 、 undefined 的话，则会忽略这个参数</li> <li>forEach 、 map 、filter 函数的第二个参数也是能显式绑定 this 的</li></ul></li> <li>new 绑定
<ul><li>构造函数创建的对象，作用域是可以理解为是这个构造函数，且这个构造函数的 this 是指向新建的对象的，因此this指向这个对象。</li></ul></li> <li>箭头函数的 this
<ul><li>箭头函数里面的 this 是由外层作用域来决定的，且指向函数定义时的 this 而非执行时</li> <li>字面量创建的对象，作用域是 window，如果里面有箭头函数属性的话，this 指向的是 window</li> <li>箭头函数的 this 是无法通过 bind 、 call 、 apply 来直接修改，但是可以通过改变作用域中 this 的指向来间接修改。</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新: </span> <span class="time">8/25/2020, 10:00:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/vuepress/study/DOM.html" class="prev">
          DOM
        </a></span> <span class="next"><a href="/blog/vuepress/study/js_AA.html">
          js 进阶
        </a>
        →
      </span></p></div>  <div class="comment-tool"><div id="gitalk-container"></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/vuepress/assets/js/app.fda7a6dd.js" defer></script><script src="/blog/vuepress/assets/js/4.2abcc4b6.js" defer></script><script src="/blog/vuepress/assets/js/115.19cb8bcc.js" defer></script><script src="/blog/vuepress/assets/js/36.18293405.js" defer></script>
    <script>
      window.__bl = {
          config: {
              pid:"iidngjoz36@40670894182441a",appType:"web",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",sendResource:true,enableLinkTrace:true,behavior:true,useFmp:true
          }
      }
    </script>
    <script type="text/javascript" src="https://retcode.alicdn.com/retcode/bl.js" crossorigin></script>
  </body>
</html>
