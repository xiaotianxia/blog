(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{478:function(t,s,a){t.exports=a.p+"assets/img/observer001.39b98ba0.gif"},479:function(t,s,a){t.exports=a.p+"assets/img/intersectratio.9bc316a3.png"},678:function(t,s,a){"use strict";a.r(s);var e=a(12),n=Object(e.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"jsä¸­çš„è§‚å¯Ÿè€…ä»¬-â€”â€”-å››ç§-observers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jsä¸­çš„è§‚å¯Ÿè€…ä»¬-â€”â€”-å››ç§-observers","aria-hidden":"true"}},[t._v("#")]),t._v(" JSä¸­çš„è§‚å¯Ÿè€…ä»¬ â€”â€” å››ç§ Observers")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://xiaotianxia.github.io/blog/vuepress/js/four_kinds_of_observers.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŸæ–‡é“¾æ¥"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("ä»Šå¤©è·Ÿå¤§å®¶ä¸€å—å­¦ä¹ ä¸€ä¸‹JSä¸­çš„å‡ ä¸ªè§‚å¯Ÿè€…(Observer) APIï¼Œä»–ä»¬æ˜¯ â€”â€”")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#intersection-observer"}},[t._v("Intersection Observer")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#mutation-observer"}},[t._v("Mutation Observer")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#resize-observer"}},[t._v("Resize Observer")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#performance-observer"}},[t._v("Performance Observer")])])]),t._v(" "),e("h2",{attrs:{id:"intersection-observer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#intersection-observer","aria-hidden":"true"}},[t._v("#")]),t._v(" Intersection Observer")]),t._v(" "),e("p",[t._v("å½“ä½ æƒ³ç›‘å¬æŸä¸ªå…ƒç´ ï¼Œå½“å®ƒåœ¨è§†å£ä¸­å¯è§çš„æ—¶å€™å¸Œæœ›å¯ä»¥å¾—åˆ°é€šçŸ¥ï¼Œè¿™ä¸ªAPIå°±æ˜¯æœ€ä½³çš„é€‰æ‹©äº†ã€‚ä»¥å¾€æˆ‘ä»¬çš„åšæ³•æ˜¯ç»‘å®šå®¹å™¨çš„scrolläº‹ä»¶ï¼Œæˆ–è€…è®¾å®šæ—¶å™¨ä¸åœåœ°è°ƒç”¨getBoundingClientRect() è·å–å…ƒç´ ä½ç½®ï¼Œ\nè¿™æ ·åšçš„æ€§èƒ½ä¼šå¾ˆå·®ï¼Œå› ä¸ºæ¯æ¬¡è·å–å…ƒç´ çš„ä½ç½®éƒ½ä¼šå¼•èµ·æ•´ä¸ªå¸ƒå±€çš„é‡æ–°è®¡ç®—ã€‚è¿˜æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯ï¼Œå¦‚æœä½ çš„å…ƒç´ è¢«æ”¾åœ¨iframeé‡Œï¼Œå¦‚ä¸€äº›å¹¿å‘Šï¼Œæƒ³è¦çŸ¥é“ä»–ä»¬ä½•æ—¶å‡ºç°å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚")]),t._v(" "),e("p",[e("img",{attrs:{src:a(478),alt:"demo"}})]),t._v(" "),e("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æŠŠè¿™äº›å·¥ä½œäº¤ç»™IntersectionObserveräº†ã€‚")]),t._v(" "),e("h3",{attrs:{id:"æ€ä¹ˆç”¨ï¼Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨ï¼Ÿ","aria-hidden":"true"}},[t._v("#")]),t._v(" æ€ä¹ˆç”¨ï¼Ÿ")]),t._v(" "),e("p",[t._v("å®ä¾‹åŒ–ä¸€ä¸ªè§‚å¯Ÿå™¨ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[t._v("callback æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œé‡Œé¢è¿”å›ç›‘å¬ç›®æ ‡å…ƒç´ çš„å®æ—¶æ•°æ®ç»„æˆçš„æ•°ç»„\n"),e("ul",[e("li",[t._v("time æ—¶é—´æˆ³")]),t._v(" "),e("li",[t._v("rootBounds æ ¹å…ƒç´ çš„ä½ç½®ä¿¡æ¯")]),t._v(" "),e("li",[t._v("boundingClientRect ç›®æ ‡å…ƒç´ çš„ä½ç½®ä¿¡æ¯")]),t._v(" "),e("li",[t._v("intersectionRect äº¤å‰éƒ¨åˆ†çš„ä½ç½®ä¿¡æ¯")]),t._v(" "),e("li",[t._v("intersectionRatio ç›®æ ‡å…ƒç´ çš„å¯è§æ¯”ä¾‹ï¼Œçœ‹ä¸‹å›¾ç¤º")]),t._v(" "),e("li",[t._v("targetç­‰")])])]),t._v(" "),e("li",[t._v("options æ˜¯ä¸€äº›é…ç½®\n"),e("ul",[e("li",[t._v("root ç›®æ ‡å…ƒç´ çš„"),e("strong",[t._v("ç¥–å…ˆå…ƒç´ ")]),t._v("ï¼Œå³è¯¥å…ƒç´ å¿…é¡»æ˜¯ç›®æ ‡å…ƒç´ çš„ç›´æ¥æˆ–é—´æ¥çˆ¶çº§")]),t._v(" "),e("li",[t._v("rootMargin ä¸€ä¸ªåœ¨è®¡ç®—äº¤å‰å€¼æ—¶æ·»åŠ è‡³rootçš„è¾¹ç•Œç›’ä¸­çš„ä¸€ç»„åç§»é‡ï¼Œå†™æ³•ç±»ä¼¼CSSçš„margin")]),t._v(" "),e("li",[t._v("threshold è§„å®šäº†ä¸€ä¸ªç›‘å¬ç›®æ ‡ä¸è¾¹ç•Œç›’äº¤å‰åŒºåŸŸçš„æ¯”ä¾‹å€¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„æ•°å€¼æˆ–æ˜¯ä¸€ç»„0.0åˆ°1.0ä¹‹é—´çš„æ•°ç»„")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(479),alt:"smalldemo"}})]),t._v(" "),e("p",[t._v("å¼€å§‹ç›‘å¬å…ƒç´ ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("è¿™ä¸¤æ­¥ä¹‹åï¼Œå°±å¯ä»¥åœ¨callbacké‡Œè¡¥å…¨ä¸šåŠ¡ä»£ç äº†ã€‚")]),t._v(" "),e("p",[t._v("æ­¤å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("åœæ­¢å¯¹æŸç›®æ ‡çš„ç›‘å¬")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("unobserve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[t._v("ç»ˆæ­¢å¯¹æ‰€æœ‰ç›®æ ‡çš„ç›‘å¬")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"demo-ğŸŒ°â†“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“","aria-hidden":"true"}},[t._v("#")]),t._v(" demo ğŸŒ°â†“")]),t._v(" "),e("p",[t._v("åšä¸€ä¸ªè§†é¢‘æµçš„ç®€å•demoï¼Œå½“è§†é¢‘æ»šåŠ¨åˆ°å…¨éƒ¨å‡ºç°åœ¨å±å¹•çš„æ—¶å€™æ’­æ”¾ï¼Œå¹¶æš‚åœå…¶ä»–â€œæ»šå‡ºâ€å±å¹•çš„æˆ–è€…è¿˜æœªâ€œæ»šè¿›æ¥â€çš„è§†é¢‘ã€‚")]),t._v(" "),e("p",[t._v("ï¼ˆæ»šåŠ¨çœ‹æ•ˆæœï¼Œæ‹¬å·é‡Œæ˜¾ç¤ºçš„æ˜¯æ¯ä¸ªå…ƒç´ åœ¨è§‚å¯Ÿè§†å£çš„å¯è§æ¯”ä¾‹ï¼‰")]),t._v(" "),e("Observers-IntersectionObserver"),t._v(" "),e("p",[t._v("ä¸»è¦ä»£ç ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("methods"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reserveCallback")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entries"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ratio "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entries"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t$target "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entries"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ratio "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.03")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPlay")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPlay")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ’­æ”¾è§†é¢‘")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPause")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æš‚åœè§†é¢‘")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addObserver")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" $targets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¼€å§‹ç›‘å¬")]),t._v("\n    \t\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" $referenceBox "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js-content'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t$targets "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js-item'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å®ä¾‹åŒ–è§‚å¯Ÿå™¨")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reserveCallback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \troot"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $referenceBox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \trootMargin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \tthreshold"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.9")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br")])]),e("p",[e("a",{attrs:{href:"https://github.com/xiaotianxia/blog/blob/678a850ab72f9c6cc302c5c4dc0ec6f4a61de5d5/docs/.vuepress/components/Observers/IntersectionObserver.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®Œæ•´ä»£ç "),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("ä¸Šé¢çš„demoä¹Ÿæœ‰å¾ˆå¤§çš„ä¸è¶³ä¹‹å¤„ï¼šå¯¹æ‰€æœ‰çš„è§†é¢‘å…ƒç´ éƒ½è¿›è¡Œäº†ç›‘å¬ï¼Œå¹¶ä¸”å¯¹â€œæ¶ˆå¤±â€çš„è§†é¢‘æ²¡æœ‰å…³æ‰è§‚å¯Ÿå™¨ï¼Œå½“è§†é¢‘æ•°å¢å¤šæ—¶ï¼ŒåŠ¿å¿…ä¼šå¼•èµ·æ€§èƒ½ä¸Šçš„é—®é¢˜ã€‚\nå¦‚æœçœŸçš„åº”ç”¨åœ¨ä¸šåŠ¡ä¸­è¿˜éœ€è¦è¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚")]),t._v(" "),e("h3",{attrs:{id:"å…¶ä»–åº”ç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–åº”ç”¨","aria-hidden":"true"}},[t._v("#")]),t._v(" å…¶ä»–åº”ç”¨")]),t._v(" "),e("p",[t._v("é™¤äº†ä¸Šé¢æåˆ°çš„å¹¿å‘Šå±•ç¤ºï¼Œè¿˜å¯ä»¥åšæ‡’åŠ è½½ï¼šåœ¨åˆ—è¡¨çš„åº•éƒ¨è®¾ç½®ä¸€ä¸ªç”¨æ¥ç›‘å¬çš„å…ƒç´ ï¼Œå½“å®ƒå‡ºç°æ—¶ï¼ŒåŠ è½½æ›´å¤šçš„å†…å®¹ï¼ŒåŒæ—¶æ”¹å˜è¯¥ç›‘å¬å…ƒç´ çš„ä½ç½®åˆ°åº•éƒ¨ç»§ç»­ç›‘å¬ã€‚")]),t._v(" "),e("p",[t._v("é™¤äº†è¿™äº›ï¼Œè¿˜å¯ä»¥åšä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),e("h3",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.w3.org/TR/2018/WD-intersection-observer-20181106/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Intersection Observer"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developers.google.com/web/updates/2016/04/intersectionobserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("IntersectionObserverâ€™s Coming into View"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://davidwalsh.name/intersection-observers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Observing Intersection Observers"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("IntersectionObserver"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/w3c/IntersectionObserver/tree/master/polyfill",target:"_blank",rel:"noopener noreferrer"}},[t._v("IntersectionObserver polyfill"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"mutation-observer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mutation-observer","aria-hidden":"true"}},[t._v("#")]),t._v(" Mutation Observer")]),t._v(" "),e("p",[t._v("å½“æˆ‘ä»¬æƒ³çŸ¥é“æŸä¸ªå…ƒç´ åœ¨æŸä¸ªæ—¶å€™å‘ç”Ÿäº†å…·ä½“å“ªäº›å˜åŒ–æ—¶ï¼ŒMutationObserverä¾¿æ˜¯æœ€ä½³é€‰æ‹©äº†ã€‚")]),t._v(" "),e("h3",{attrs:{id:"æ€ä¹ˆç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨","aria-hidden":"true"}},[t._v("#")]),t._v(" æ€ä¹ˆç”¨")]),t._v(" "),e("p",[t._v("å®ä¾‹åŒ–ä¸€ä¸ªè§‚å¯Ÿå™¨ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MutationObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("å¼€å§‹ç›‘å¬ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[t._v("config å¡«å†™éœ€è¦ç›‘å¬å±æ€§\n"),e("ul",[e("li",[t._v("attributes å¸ƒå°”ç±»å‹ å±æ€§çš„å˜åŠ¨")]),t._v(" "),e("li",[t._v("childList å¸ƒå°”ç±»å‹ å­èŠ‚ç‚¹çš„å˜åŠ¨ï¼ˆæŒ‡æ–°å¢ï¼Œåˆ é™¤æˆ–è€…æ›´æ”¹ï¼‰")]),t._v(" "),e("li",[t._v("characterData å¸ƒå°”ç±»å‹ èŠ‚ç‚¹å†…å®¹æˆ–èŠ‚ç‚¹æ–‡æœ¬çš„å˜åŠ¨ã€‚")]),t._v(" "),e("li",[t._v("subtree å¸ƒå°”ç±»å‹ æ˜¯å¦å°†è¯¥è§‚å¯Ÿå™¨åº”ç”¨äºè¯¥èŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹")]),t._v(" "),e("li",[t._v("attributeOldValue å¸ƒå°”ç±»å‹ è§‚å¯Ÿattributeså˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å±æ€§å€¼")]),t._v(" "),e("li",[t._v("characterDataOldValue å¸ƒå°”ç±»å‹ è§‚å¯ŸcharacterDataå˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å€¼")]),t._v(" "),e("li",[t._v("attributeFilter æ•°ç»„ éœ€è¦è§‚å¯Ÿçš„ç‰¹å®šå±æ€§ï¼ˆæ¯”å¦‚['class','src']ï¼‰")])])])]),t._v(" "),e("p",[t._v("ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„demo,ä»»ä½•å¯¹èŠ‚ç‚¹çš„æ“ä½œéƒ½ä¼šæ”¶åˆ°MutationObserver APIçš„é€šçŸ¥ã€‚")]),t._v(" "),e("h3",{attrs:{id:"demo-ğŸŒ°â†“-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-2","aria-hidden":"true"}},[t._v("#")]),t._v(" demo ğŸŒ°â†“")]),t._v(" "),e("Observers-MutationObserver"),t._v(" "),e("p",[t._v("ä¸»è¦ä»£ç ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("methods"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observerCallBack")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mutations"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//do log")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onAddAttr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// toggle attribute 'd'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js-list'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" config "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \tattributes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    \tchildList"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    \tcharacterData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \tsubtree"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MutationObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observerCallBack"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    observer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br")])]),e("p",[e("a",{attrs:{href:"https://github.com/xiaotianxia/blog/blob/678a850ab72f9c6cc302c5c4dc0ec6f4a61de5d5/docs/.vuepress/components/Observers/MutationObserver.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®Œæ•´ä»£ç "),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"å‚è€ƒèµ„æ–™-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™-2","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("MutationObserver"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developers.google.com/web/updates/2012/02/Detect-DOM-changes-with-Mutation-Observers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Detect DOM changes with Mutation Observers"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://javascript.ruanyifeng.com/dom/mutationobserver.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mutation Observer API"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://dev.opera.com/articles/mutation-observers-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Getting to Know Mutation Observers"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"resize-observer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resize-observer","aria-hidden":"true"}},[t._v("#")]),t._v(" Resize Observer")]),t._v(" "),e("p",[t._v("ä»åå­—å°±å¯ä»¥çŸ¥é“è¯¥APIæ˜¯å¹²å˜›çš„äº†ï¼šç›‘å¬å…ƒç´ çš„å°ºå¯¸å˜åŒ–ã€‚")]),t._v(" "),e("p",[t._v("ä¹‹å‰ä¸ºäº†ç›‘å¬å…ƒç´ çš„å°ºå¯¸å˜åŒ–ï¼Œéƒ½å°†ä¾¦å¬å™¨é™„åŠ åˆ°windowä¸­çš„resizeäº‹ä»¶ã€‚å¯¹äºä¸å—çª—å£å˜åŒ–å½±å“çš„å…ƒç´ å°±æ²¡é‚£ä¹ˆç®€å•äº†ã€‚\nç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥APIè½»æ¾çš„å®ç°ã€‚")]),t._v(" "),e("h3",{attrs:{id:"æ€ä¹ˆç”¨-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨-2","aria-hidden":"true"}},[t._v("#")]),t._v(" æ€ä¹ˆç”¨")]),t._v(" "),e("p",[t._v("åŒæ ·åªéœ€è¦ä¸¤æ­¥ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResizeObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("ä½†æ˜¯å®ƒçš„è§¦å‘ä¹Ÿæ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸‹é¢æ˜¯è§¦å‘å’Œä¸è§¦å‘çš„æ¡ä»¶ï¼š")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("è§¦å‘")]),t._v(" "),e("ul",[e("li",[t._v("1.å…ƒç´ è¢«æ’å…¥æˆ–ç§»é™¤æ—¶è§¦å‘")]),t._v(" "),e("li",[t._v("2.å…ƒç´ displayä»æ˜¾ç¤ºå˜æˆ none æˆ–ç›¸åè¿‡ç¨‹æ—¶è§¦å‘")])])]),t._v(" "),e("li",[e("p",[t._v("ä¸è§¦å‘")]),t._v(" "),e("ul",[e("li",[t._v("1.å¯¹äºä¸å¯æ›¿æ¢å†…è”å…ƒç´ ä¸è§¦å‘")]),t._v(" "),e("li",[t._v("2.CSS transform æ“ä½œä¸è§¦å‘")])])])]),t._v(" "),e("h3",{attrs:{id:"demo-ğŸŒ°â†“-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-3","aria-hidden":"true"}},[t._v("#")]),t._v(" demo ğŸŒ°â†“")]),t._v(" "),e("Observers-ResizeObserver"),t._v(" "),e("p",[t._v("æ‹–åŠ¨å³ä¸‹è§’å˜æ¢å…ƒç´ å°ºå¯¸æˆ–ç‚¹å‡»éšæœºæŒ‰é’®è®¾ç½®éšæœºå°ºå¯¸ï¼Œéƒ½ä¼šæ”¶åˆ°é€šçŸ¥(é‡Œé¢çš„å°æ˜Ÿæ˜Ÿè½¬åŠ¨é€Ÿåº¦å˜åŒ–)ã€‚\nè€Œé€šè¿‡transformå˜åŒ–è§†è§‰ä¸Šçš„å°ºå¯¸æ—¶æ˜¯æ²¡æœ‰é€šçŸ¥çš„ã€‚")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/xiaotianxia/blog/blob/678a850ab72f9c6cc302c5c4dc0ec6f4a61de5d5/docs/.vuepress/components/Observers/ResizeObserver.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®Œæ•´ä»£ç "),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("é—æ†¾çš„æ˜¯è¯¥APIä»å¤„äºå®éªŒé˜¶æ®µï¼Œå¥½å¤šæµè§ˆå™¨æ²¡æœ‰å®ç°ã€‚")]),t._v(" "),e("CanIUse",{attrs:{word:"resizeobserver"}}),t._v(" "),e("p",[t._v("ä¸è¿‡ï¼Œç”±äºMutationObserverå·²ç»è¢«å¤§éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼Œä¸”æœ‰"),e("a",{attrs:{href:"https://github.com/w3c/IntersectionObserver/tree/master/polyfill",target:"_blank",rel:"noopener noreferrer"}},[t._v("polyfill"),e("OutboundLink")],1),t._v("çš„æ”¯æŒï¼Œ\næˆ‘ä»¬å¯ä»¥è½»æ¾çš„åˆ©ç”¨ä»–æ¥ä»£æ›¿ResizeObserverã€‚")]),t._v(" "),e("CanIUse",{attrs:{word:"mutationobserver"}}),t._v(" "),e("h3",{attrs:{id:"æ¨èé˜…è¯»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¨èé˜…è¯»","aria-hidden":"true"}},[t._v("#")]),t._v(" æ¨èé˜…è¯»")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.w3cplus.com/javascript/ResizeObserver-api.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScriptä¸­çš„ResizeObserver"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://wicg.github.io/ResizeObserver/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resize Observer 1"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://alligator.io/js/resize-observer/",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Look at the Resize Observer JavaScript API"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://pawelgrzybek.com/the-resize-observer-explained/",target:"_blank",rel:"noopener noreferrer"}},[t._v("THE RESIZE OBSERVER EXPLAINED"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"performance-observer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#performance-observer","aria-hidden":"true"}},[t._v("#")]),t._v(" Performance Observer")]),t._v(" "),e("p",[t._v("PerformanceObserver æ˜¯ä¸ªç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„APIï¼Œç”¨æ¥ç›‘æ§å„ç§æ€§èƒ½ç›¸å…³çš„æŒ‡æ ‡ã€‚\nè¯¥APIç”±ä¸€ç³»åˆ—APIç»„æˆï¼š")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-performance-timeline-2-20190321/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Performance Timeline Level 2"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://w3c.github.io/paint-timing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Paint Timing 1"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://w3c.github.io/navigation-timing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Navigation Timing Level 2"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-user-timing-3-20190308/",target:"_blank",rel:"noopener noreferrer"}},[t._v("User Timing Level 3"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-resource-timing-2-20190307/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource Timing Level 2"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.w3.org/TR/2017/WD-longtasks-1-20170907/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Long Tasks API 1"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("è‹¥çœŸç»†ç ”ç©¶èµ·æ¥ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„,è¿™é‡Œåªç®€å•åœ°ä»‹ç»ä¸€ä¸‹ï¼ˆå› ä¸ºæˆ‘ä¹Ÿæ²¡æå¤ªæ¸…æ¥šğŸ˜‚ï¼‰ã€‚")]),t._v(" "),e("h3",{attrs:{id:"æ€ä¹ˆç”¨-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨-3","aria-hidden":"true"}},[t._v("#")]),t._v(" æ€ä¹ˆç”¨")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entryTypes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entryTypes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("entryTypes: éœ€è¦ç›‘æ§çš„æŒ‡æ ‡åï¼Œè¿™äº›æŒ‡æ ‡éƒ½å¯ä»¥é€šè¿‡ performance.getEntries() è·å–åˆ°ï¼Œæ­¤å¤–è¿˜å¯ä»¥é€šè¿‡ performance.getEntriesByName() ã€performance.getEntriesByType()\nåˆ†åˆ«é’ˆå¯¹ name å’Œ entryType æ¥è¿‡æ»¤ã€‚")]),t._v(" "),e("ul",[e("li",[t._v("mark è·å–æ‰€æœ‰é€šè¿‡ performance.mark(markName) åšçš„æ‰€æœ‰æ ‡è®°")]),t._v(" "),e("li",[t._v("measure è·å–é€šè¿‡ performance.measure(measureName, markName_start, markName_end) å¾—åˆ°çš„æ‰€æœ‰æµ‹é‡å€¼")]),t._v(" "),e("li",[t._v("longtask ç›‘å¬é•¿ä»»åŠ¡ï¼ˆè¶…è¿‡50ms çš„ä»»åŠ¡ï¼‰ï¼ˆä¸è¶³ï¼š"),e("strong",[t._v("åªèƒ½ç›‘æ§åˆ°é•¿ä»»åŠ¡çš„å­˜åœ¨ï¼Œè²Œä¼¼ä¸èƒ½å®šä½åˆ°å…·ä½“ä»»åŠ¡")]),t._v("ï¼‰")]),t._v(" "),e("li",[t._v("paint è·å–ç»˜åˆ¶ç›¸å…³çš„æ€§èƒ½æŒ‡æ ‡ï¼Œåˆ†ä¸ºä¸¤ç§ï¼šâ€œfirst-paintâ€ã€â€œfirst-contentful-paintâ€")]),t._v(" "),e("li",[t._v("navigation å„ç§ä¸é¡µé¢æœ‰å…³çš„æ—¶é—´ï¼Œå¯é€šè¿‡ performance.timing è·å–")]),t._v(" "),e("li",[t._v("resource å„ç§ä¸èµ„æºåŠ è½½ç›¸å…³çš„ä¿¡æ¯")])]),t._v(" "),e("p",[t._v("ç›¸è¾ƒä¹‹å‰çš„å„ç§æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬ä»£ç ä»…éœ€è¦åƒè¿™æ ·å°±å¯ä»¥äº†â€”â€”")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" output"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" item "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntries")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸šåŠ¡ä»£ç ")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æŒ‰éœ€è¦å¡«å†™")]),t._v("\n    entryTypes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mark'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'measure'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'longtask'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'paint'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'navigation'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'resource'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("h4",{attrs:{id:"demo-ğŸŒ°â†“-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-4","aria-hidden":"true"}},[t._v("#")]),t._v(" demo ğŸŒ°â†“")]),t._v(" "),e("spreadown",{attrs:{defaultShow:""}},[e("iframe",{staticStyle:{width:"100%"},attrs:{height:"393",scrolling:"no",title:"PerformanceObserver demo",src:"//codepen.io/_tianxia/embed/oVargZ/?height=393&theme-id=33504&default-tab=js,result",frameborder:"no",allowtransparency:"true",allowfullscreen:"true"}},[t._v("See the Pen "),e("a",{attrs:{href:"https://codepen.io/_tianxia/pen/oVargZ/"}},[t._v("PerformanceObserver demo")]),t._v(" by Denzel("),e("a",{attrs:{href:"https://codepen.io/_tianxia"}},[t._v("@_tianxia")]),t._v(") on "),e("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".")]),t._v(" "),e("show-in-codepen",{attrs:{href:"https://codepen.io/_tianxia/pen/oVargZ"}})],1),t._v(" "),e("p",[t._v("ç”±äºæ—¶é—´ã€ç²¾åŠ›æœ‰é™ï¼Œä¸Šè¿°å†…å®¹å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ä¸åèµæ•™ğŸ™ã€‚")]),t._v(" "),e("h3",{attrs:{id:"å‚è€ƒèµ„æ–™-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™-3","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver/PerformanceObserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("PerformanceObserver()"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.zeolearn.com/magazine/different-types-of-observers-supported-by-modern-browsers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Different Types Of Observers Supported By Modern Browsers"),e("OutboundLink")],1)])])],1)},[],!1,null,null,null);s.default=n.exports}}]);