(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{361:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("è§‚å¯Ÿè€…(Observer)")]),t._m(1),a("p",[t._v("å½“ä½ æƒ³ç›‘å¬æŸä¸ªå…ƒç´ ï¼Œå½“å®ƒåœ¨è§†å£ä¸­å¯è§çš„æ—¶å€™å¸Œæœ›å¯ä»¥å¾—åˆ°é€šçŸ¥ï¼Œè¿™ä¸ªAPIå°±æ˜¯æœ€ä½³çš„é€‰æ‹©äº†ã€‚ä»¥å¾€æˆ‘ä»¬çš„åšæ³•æ˜¯ç»‘å®šå®¹å™¨çš„scrolläº‹ä»¶ï¼Œæˆ–è€…è®¾å®šæ—¶å™¨ä¸åœåœ°è°ƒç”¨getBoundingClientRect() è·å–å…ƒç´ ä½ç½®ï¼Œ\nè¿™æ ·åšçš„æ€§èƒ½ä¼šå¾ˆå·®ï¼Œå› ä¸ºæ¯æ¬¡è·å–å…ƒç´ çš„ä½ç½®éƒ½ä¼šå¼•èµ·æ•´ä¸ªå¸ƒå±€çš„é‡æ–°è®¡ç®—ã€‚è¿˜æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯ï¼Œå¦‚æœä½ çš„å…ƒç´ è¢«æ”¾åœ¨iframeé‡Œï¼Œå¦‚ä¸€äº›å¹¿å‘Šï¼Œæƒ³è¦çŸ¥é“ä»–ä»¬ä½•æ—¶å‡ºç°å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚")]),t._m(2),a("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æŠŠè¿™äº›å·¥ä½œäº¤ç»™IntersectionObserveräº†ã€‚")]),t._m(3),a("p",[t._v("å®ä¾‹åŒ–ä¸€ä¸ªè§‚å¯Ÿå™¨ï¼š")]),t._m(4),t._m(5),t._m(6),a("p",[t._v("å¼€å§‹ç›‘å¬å…ƒç´ ï¼š")]),t._m(7),a("p",[t._v("è¿™ä¸¤æ­¥ä¹‹åï¼Œå°±å¯ä»¥åœ¨callbacké‡Œè¡¥å…¨ä¸šåŠ¡ä»£ç äº†ã€‚")]),a("p",[t._v("æ­¤å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š")]),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),a("p",[t._v("åšä¸€ä¸ªè§†é¢‘æµçš„ç®€å•demoï¼Œå½“è§†é¢‘æ»šåŠ¨åˆ°å…¨éƒ¨å‡ºç°åœ¨å±å¹•çš„æ—¶å€™æ’­æ”¾ï¼Œå¹¶æš‚åœå…¶ä»–â€œæ»šå‡ºâ€å±å¹•çš„æˆ–è€…è¿˜æœªâ€œæ»šè¿›æ¥â€çš„è§†é¢‘ã€‚")]),a("p",[t._v("ï¼ˆæ»šåŠ¨çœ‹æ•ˆæœï¼Œæ‹¬å·é‡Œæ˜¾ç¤ºçš„æ˜¯æ¯ä¸ªå…ƒç´ åœ¨è§‚å¯Ÿè§†å£çš„å¯è§æ¯”ä¾‹ï¼‰")]),a("Observers-IntersectionObserver"),a("p",[t._v("ä¸»è¦ä»£ç ï¼š")]),t._m(13),a("p",[t._v("ä¸Šé¢çš„demoä¹Ÿæœ‰å¾ˆå¤§çš„ä¸è¶³ä¹‹å¤„ï¼šå¯¹æ‰€æœ‰çš„è§†é¢‘å…ƒç´ éƒ½è¿›è¡Œäº†ç›‘å¬ï¼Œå¹¶ä¸”å¯¹â€œæ¶ˆå¤±â€çš„è§†é¢‘æ²¡æœ‰å…³æ‰è§‚å¯Ÿå™¨ï¼Œå½“è§†é¢‘æ•°å¢å¤šæ—¶ï¼ŒåŠ¿å¿…ä¼šå¼•èµ·æ€§èƒ½ä¸Šçš„é—®é¢˜ã€‚\nå¦‚æœçœŸçš„åº”ç”¨åœ¨ä¸šåŠ¡ä¸­è¿˜éœ€è¦è¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚")]),t._m(14),a("p",[t._v("é™¤äº†ä¸Šé¢æåˆ°çš„å¹¿å‘Šå±•ç¤ºï¼Œè¿˜å¯ä»¥åšæ‡’åŠ è½½ï¼šåœ¨åˆ—è¡¨çš„åº•éƒ¨è®¾ç½®ä¸€ä¸ªç”¨æ¥ç›‘å¬çš„å…ƒç´ ï¼Œå½“å®ƒå‡ºç°æ—¶ï¼ŒåŠ è½½æ›´å¤šçš„å†…å®¹ï¼ŒåŒæ—¶æ”¹å˜è¯¥ç›‘å¬å…ƒç´ çš„ä½ç½®åˆ°åº•éƒ¨ç»§ç»­ç›‘å¬ã€‚")]),a("p",[t._v("é™¤äº†è¿™äº›ï¼Œè¿˜å¯ä»¥åšä»€ä¹ˆå‘¢ï¼Ÿ")]),t._m(15),t._m(16),t._m(17),a("p",[t._v("å½“æˆ‘ä»¬æƒ³çŸ¥é“æŸä¸ªå…ƒç´ åœ¨æŸä¸ªæ—¶å€™å‘ç”Ÿäº†å…·ä½“å“ªäº›å˜åŒ–æ—¶ï¼ŒMutationObserverä¾¿æ˜¯æœ€ä½³é€‰æ‹©äº†ã€‚")]),t._m(18),a("p",[t._v("å®ä¾‹åŒ–ä¸€ä¸ªè§‚å¯Ÿå™¨ï¼š")]),t._m(19),a("p",[t._v("å¼€å§‹ç›‘å¬ï¼š")]),t._m(20),t._m(21),a("p",[t._v("ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„demo,ä»»ä½•å¯¹èŠ‚ç‚¹çš„æ“ä½œéƒ½ä¼šæ”¶åˆ°MutationObserver APIçš„é€šçŸ¥ã€‚")]),t._m(22),a("Observers-MutationObserver"),a("p",[t._v("ä¸»è¦ä»£ç ï¼š")]),t._m(23),t._m(24),t._m(25),t._m(26),a("p",[t._v("ä»åå­—å°±å¯ä»¥çŸ¥é“è¯¥APIæ˜¯å¹²å˜›çš„äº†ï¼šç›‘å¬å…ƒç´ çš„å°ºå¯¸å˜åŒ–ã€‚")]),a("p",[t._v("ä¹‹å‰ä¸ºäº†ç›‘å¬å…ƒç´ çš„å°ºå¯¸å˜åŒ–ï¼Œéƒ½å°†ä¾¦å¬å™¨é™„åŠ åˆ°windowä¸­çš„resizeäº‹ä»¶ã€‚å¯¹äºä¸å—çª—å£å˜åŒ–å½±å“çš„å…ƒç´ å°±æ²¡é‚£ä¹ˆç®€å•äº†ã€‚\nç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥APIè½»æ¾çš„å®ç°ã€‚")]),t._m(27),a("p",[t._v("åŒæ ·åªéœ€è¦ä¸¤æ­¥ï¼š")]),t._m(28),a("p",[t._v("ä½†æ˜¯å®ƒçš„è§¦å‘ä¹Ÿæ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸‹é¢æ˜¯è§¦å‘å’Œä¸è§¦å‘çš„æ¡ä»¶ï¼š")]),t._m(29),t._m(30),a("Observers-ResizeObserver"),a("p",[t._v("æ‹–åŠ¨å³ä¸‹è§’å˜æ¢å…ƒç´ å°ºå¯¸æˆ–ç‚¹å‡»éšæœºæŒ‰é’®è®¾ç½®éšæœºå°ºå¯¸ï¼Œéƒ½ä¼šæ”¶åˆ°é€šçŸ¥(é‡Œé¢çš„å°æ˜Ÿæ˜Ÿè½¬åŠ¨é€Ÿåº¦å˜åŒ–)ã€‚\nè€Œé€šè¿‡transformå˜åŒ–è§†è§‰ä¸Šçš„å°ºå¯¸æ—¶æ˜¯æ²¡æœ‰é€šçŸ¥çš„ã€‚")]),a("p",[t._v("é—æ†¾çš„æ˜¯è¯¥APIä»å¤„äºå®éªŒé˜¶æ®µï¼Œå¥½å¤šæµè§ˆå™¨æ²¡æœ‰å®ç°ã€‚")]),a("CanIUse",{attrs:{word:"resizeobserver"}}),t._m(31),a("CanIUse",{attrs:{word:"mutationobserver"}}),t._m(32),t._m(33),t._m(34),a("p",[t._v("PerformanceObserver æ˜¯ä¸ªç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„APIï¼Œç”¨æ¥ç›‘æ§å„ç§æ€§èƒ½ç›¸å…³çš„æŒ‡æ ‡ã€‚\nè¯¥APIç”±ä¸€ç³»åˆ—APIç»„æˆï¼š")]),t._m(35),a("p",[t._v("è‹¥çœŸç»†ç ”ç©¶èµ·æ¥ï¼Œä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ã€‚è¿™é‡Œåªç®€å•åœ°ä»‹ç»ä¸€ä¸‹ï¼ˆå› ä¸ºæˆ‘ä¹Ÿæ²¡æå¤ªæ¸…æ¥šğŸ˜‚ï¼‰ã€‚")]),t._m(36),t._m(37),a("p",[t._v("entryTypes: éœ€è¦ç›‘æ§çš„æŒ‡æ ‡åï¼Œè¿™äº›æŒ‡æ ‡éƒ½å¯ä»¥é€šè¿‡ performance.getEntries() è·å–åˆ°ï¼Œæ­¤å¤–è¿˜å¯ä»¥é€šè¿‡ performance.getEntriesByName() ã€performance.getEntriesByType()\nåˆ†åˆ«é’ˆå¯¹ name å’Œ entryType æ¥è¿‡æ»¤ã€‚")]),t._m(38),a("p",[t._v("ç›¸è¾ƒä¹‹å‰çš„å„ç§æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬ä»£ç ä»…éœ€è¦åƒè¿™æ ·å°±å¯ä»¥äº†â€”â€”")]),t._m(39),t._m(40),a("spreadown",{attrs:{defaultShow:""}},[a("iframe",{staticStyle:{width:"100%"},attrs:{height:"393",scrolling:"no",title:"PerformanceObserver demo",src:"//codepen.io/_tianxia/embed/oVargZ/?height=393&theme-id=33504&default-tab=js,result",frameborder:"no",allowtransparency:"true",allowfullscreen:"true"}},[t._v("See the Pen "),a("a",{attrs:{href:"https://codepen.io/_tianxia/pen/oVargZ/"}},[t._v("PerformanceObserver demo")]),t._v(" by Denzel("),a("a",{attrs:{href:"https://codepen.io/_tianxia"}},[t._v("@_tianxia")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".")]),a("show-in-codepen",{attrs:{href:"https://codepen.io/_tianxia/pen/oVargZ"}})],1),t._m(41),t._m(42)],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"jsä¸­çš„è§‚å¯Ÿè€…ä»¬-â€”â€”-å››ç§-observers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsä¸­çš„è§‚å¯Ÿè€…ä»¬-â€”â€”-å››ç§-observers","aria-hidden":"true"}},[this._v("#")]),this._v(" JSä¸­çš„è§‚å¯Ÿè€…ä»¬ â€”â€” å››ç§ Observers")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"intersection-observer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#intersection-observer","aria-hidden":"true"}},[this._v("#")]),this._v(" Intersection Observer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://poijlzkaq.bkt.clouddn.com/observer001.gif",alt:"demo"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"æ€ä¹ˆç”¨ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨ï¼Ÿ","aria-hidden":"true"}},[this._v("#")]),this._v(" æ€ä¹ˆç”¨ï¼Ÿ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("callback æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œé‡Œé¢è¿”å›ç›‘å¬ç›®æ ‡å…ƒç´ çš„å®æ—¶æ•°æ®ç»„æˆçš„æ•°ç»„\n"),a("ul",[a("li",[t._v("time æ—¶é—´æˆ³")]),a("li",[t._v("rootBounds æ ¹å…ƒç´ çš„ä½ç½®ä¿¡æ¯")]),a("li",[t._v("boundingClientRect ç›®æ ‡å…ƒç´ çš„ä½ç½®ä¿¡æ¯")]),a("li",[t._v("intersectionRect äº¤å‰éƒ¨åˆ†çš„ä½ç½®ä¿¡æ¯")]),a("li",[t._v("intersectionRatio ç›®æ ‡å…ƒç´ çš„å¯è§æ¯”ä¾‹ï¼Œçœ‹ä¸‹å›¾ç¤º")]),a("li",[t._v("targetç­‰")])])]),a("li",[t._v("options æ˜¯ä¸€äº›é…ç½®\n"),a("ul",[a("li",[t._v("root ç›®æ ‡å…ƒç´ çš„"),a("strong",[t._v("ç¥–å…ˆå…ƒç´ ")]),t._v("ï¼Œå³è¯¥å…ƒç´ å¿…é¡»æ˜¯ç›®æ ‡å…ƒç´ çš„ç›´æ¥æˆ–é—´æ¥çˆ¶çº§")]),a("li",[t._v("rootMargin ä¸€ä¸ªåœ¨è®¡ç®—äº¤å‰å€¼æ—¶æ·»åŠ è‡³rootçš„è¾¹ç•Œç›’ä¸­çš„ä¸€ç»„åç§»é‡ï¼Œå†™æ³•ç±»ä¼¼CSSçš„margin")]),a("li",[t._v("threshold è§„å®šäº†ä¸€ä¸ªç›‘å¬ç›®æ ‡ä¸è¾¹ç•Œç›’äº¤å‰åŒºåŸŸçš„æ¯”ä¾‹å€¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„æ•°å€¼æˆ–æ˜¯ä¸€ç»„0.0åˆ°1.0ä¹‹é—´çš„æ•°ç»„")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://poijlzkaq.bkt.clouddn.com/intersectratio.png",alt:"smalldemo"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("observer"),s("span",{attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{attrs:{class:"token function"}},[this._v("observe")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("target"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("åœæ­¢å¯¹æŸç›®æ ‡çš„ç›‘å¬")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("observer"),s("span",{attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{attrs:{class:"token function"}},[this._v("unobserve")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),this._v("target"),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ç»ˆæ­¢å¯¹æ‰€æœ‰ç›®æ ‡çš„ç›‘å¬")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("observer"),s("span",{attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{attrs:{class:"token function"}},[this._v("disconnect")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"demo-ğŸŒ°â†“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“","aria-hidden":"true"}},[this._v("#")]),this._v(" demo ğŸŒ°â†“")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("methods"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("reserveCallback")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entries"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ratio "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" entries"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t$target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" entries"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" ratio "),a("span",{attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.03")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\t"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("onPlay")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("onPlay")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token comment"}},[t._v("//æ’­æ”¾è§†é¢‘")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("onPause")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$target"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token comment"}},[t._v("//æš‚åœè§†é¢‘")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("addObserver")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" $targets"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token comment"}},[t._v("//å¼€å§‹ç›‘å¬")]),t._v("\n    \t\t"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("mounted")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" $referenceBox "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'.js-content'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t$targets "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'.js-item'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//å®ä¾‹åŒ–è§‚å¯Ÿå™¨")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reserveCallback"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \troot"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $referenceBox"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \trootMargin"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'0px'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \tthreshold"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0.7")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.8")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.9")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("addObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$targets"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å…¶ä»–åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–åº”ç”¨","aria-hidden":"true"}},[this._v("#")]),this._v(" å…¶ä»–åº”ç”¨")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[this._v("#")]),this._v(" å‚è€ƒèµ„æ–™")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/2018/WD-intersection-observer-20181106/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Intersection Observer")])]),s("li",[s("a",{attrs:{href:"https://developers.google.com/web/updates/2016/04/intersectionobserver",target:"_blank",rel:"noopener noreferrer"}},[this._v("IntersectionObserverâ€™s Coming into View")])]),s("li",[s("a",{attrs:{href:"https://davidwalsh.name/intersection-observers",target:"_blank",rel:"noopener noreferrer"}},[this._v("Observing Intersection Observers")])]),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver",target:"_blank",rel:"noopener noreferrer"}},[this._v("IntersectionObserver")])]),s("li",[s("a",{attrs:{href:"https://github.com/w3c/IntersectionObserver/tree/master/polyfill",target:"_blank",rel:"noopener noreferrer"}},[this._v("IntersectionObserver polyfill")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"mutation-observer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mutation-observer","aria-hidden":"true"}},[this._v("#")]),this._v(" Mutation Observer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"æ€ä¹ˆç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨","aria-hidden":"true"}},[this._v("#")]),this._v(" æ€ä¹ˆç”¨")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MutationObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("observer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("config å¡«å†™éœ€è¦ç›‘å¬å±æ€§\n"),a("ul",[a("li",[t._v("attributes å¸ƒå°”ç±»å‹ å±æ€§çš„å˜åŠ¨")]),a("li",[t._v("childList å¸ƒå°”ç±»å‹ å­èŠ‚ç‚¹çš„å˜åŠ¨ï¼ˆæŒ‡æ–°å¢ï¼Œåˆ é™¤æˆ–è€…æ›´æ”¹ï¼‰")]),a("li",[t._v("characterData å¸ƒå°”ç±»å‹ èŠ‚ç‚¹å†…å®¹æˆ–èŠ‚ç‚¹æ–‡æœ¬çš„å˜åŠ¨ã€‚")]),a("li",[t._v("subtree å¸ƒå°”ç±»å‹ æ˜¯å¦å°†è¯¥è§‚å¯Ÿå™¨åº”ç”¨äºè¯¥èŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹")]),a("li",[t._v("attributeOldValue å¸ƒå°”ç±»å‹ è§‚å¯Ÿattributeså˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å±æ€§å€¼")]),a("li",[t._v("characterDataOldValue å¸ƒå°”ç±»å‹ è§‚å¯ŸcharacterDataå˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å€¼")]),a("li",[t._v("attributeFilter æ•°ç»„ éœ€è¦è§‚å¯Ÿçš„ç‰¹å®šå±æ€§ï¼ˆæ¯”å¦‚['class','src']ï¼‰")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"demo-ğŸŒ°â†“-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-2","aria-hidden":"true"}},[this._v("#")]),this._v(" demo ğŸŒ°â†“")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("methods"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("observerCallBack")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mutations"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token comment"}},[t._v("//do log")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("onAddAttr")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{attrs:{class:"token comment"}},[t._v("// toggle attribute 'd'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("mounted")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$list "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'.js-list'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" config "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \tattributes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    \tchildList"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    \tcharacterData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \tsubtree"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MutationObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("observerCallBack"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    observer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$list"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å‚è€ƒèµ„æ–™-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™-2","aria-hidden":"true"}},[this._v("#")]),this._v(" å‚è€ƒèµ„æ–™")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver",target:"_blank",rel:"noopener noreferrer"}},[this._v("MutationObserver")])]),s("li",[s("a",{attrs:{href:"https://developers.google.com/web/updates/2012/02/Detect-DOM-changes-with-Mutation-Observers",target:"_blank",rel:"noopener noreferrer"}},[this._v("Detect DOM changes with Mutation Observers")])]),s("li",[s("a",{attrs:{href:"http://javascript.ruanyifeng.com/dom/mutationobserver.html",target:"_blank",rel:"noopener noreferrer"}},[this._v("Mutation Observer API")])]),s("li",[s("a",{attrs:{href:"https://dev.opera.com/articles/mutation-observers-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Getting to Know Mutation Observers")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"resize-observer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resize-observer","aria-hidden":"true"}},[this._v("#")]),this._v(" Resize Observer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"æ€ä¹ˆç”¨-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨-2","aria-hidden":"true"}},[this._v("#")]),this._v(" æ€ä¹ˆç”¨")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ResizeObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("è§¦å‘")]),s("ul",[s("li",[this._v("1.å…ƒç´ è¢«æ’å…¥æˆ–ç§»é™¤æ—¶è§¦å‘")]),s("li",[this._v("2.å…ƒç´ displayä»æ˜¾ç¤ºå˜æˆ none æˆ–ç›¸åè¿‡ç¨‹æ—¶è§¦å‘")])])]),s("li",[s("p",[this._v("ä¸è§¦å‘")]),s("ul",[s("li",[this._v("1.å¯¹äºä¸å¯æ›¿æ¢å†…è”å…ƒç´ ä¸è§¦å‘")]),s("li",[this._v("2.CSS transform æ“ä½œä¸è§¦å‘")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"demo-ğŸŒ°â†“-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-3","aria-hidden":"true"}},[this._v("#")]),this._v(" demo ğŸŒ°â†“")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä¸è¿‡ï¼Œç”±äºMutationObserverå·²ç»è¢«å¤§éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼Œä¸”æœ‰"),s("a",{attrs:{href:"https://github.com/w3c/IntersectionObserver/tree/master/polyfill",target:"_blank",rel:"noopener noreferrer"}},[this._v("polyfill")]),this._v("çš„æ”¯æŒï¼Œ\næˆ‘ä»¬å¯ä»¥è½»æ¾çš„åˆ©ç”¨ä»–æ¥ä»£æ›¿ResizeObserverã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"æ¨èé˜…è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨èé˜…è¯»","aria-hidden":"true"}},[this._v("#")]),this._v(" æ¨èé˜…è¯»")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://www.w3cplus.com/javascript/ResizeObserver-api.html",target:"_blank",rel:"noopener noreferrer"}},[this._v("JavaScriptä¸­çš„ResizeObserver")])]),s("li",[s("a",{attrs:{href:"https://wicg.github.io/ResizeObserver/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Resize Observer 1")])]),s("li",[s("a",{attrs:{href:"https://alligator.io/js/resize-observer/",target:"_blank",rel:"noopener noreferrer"}},[this._v("A Look at the Resize Observer JavaScript API")])]),s("li",[s("a",{attrs:{href:"https://pawelgrzybek.com/the-resize-observer-explained/",target:"_blank",rel:"noopener noreferrer"}},[this._v("THE RESIZE OBSERVER EXPLAINED")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"performance-observer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#performance-observer","aria-hidden":"true"}},[this._v("#")]),this._v(" Performance Observer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-performance-timeline-2-20190321/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Performance Timeline Level 2")])]),s("li",[s("a",{attrs:{href:"https://w3c.github.io/paint-timing/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Paint Timing 1")])]),s("li",[s("a",{attrs:{href:"https://w3c.github.io/navigation-timing/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Navigation Timing Level 2")])]),s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-user-timing-3-20190308/",target:"_blank",rel:"noopener noreferrer"}},[this._v("User Timing Level 3")])]),s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-resource-timing-2-20190307/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Resource Timing Level 2")])]),s("li",[s("a",{attrs:{href:"https://www.w3.org/TR/2017/WD-longtasks-1-20170907/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Long Tasks API 1")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"æ€ä¹ˆç”¨-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨-3","aria-hidden":"true"}},[this._v("#")]),this._v(" æ€ä¹ˆç”¨")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobserver"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entryTypes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("entryTypes"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("mark è·å–æ‰€æœ‰é€šè¿‡ performance.mark(markName) åšçš„æ‰€æœ‰æ ‡è®°")]),a("li",[t._v("measure è·å–é€šè¿‡ performance.measure(measureName, markName_start, markName_end) å¾—åˆ°çš„æ‰€æœ‰æµ‹é‡å€¼")]),a("li",[t._v("longtask ç›‘å¬é•¿ä»»åŠ¡ï¼ˆè¶…è¿‡50ms çš„ä»»åŠ¡ï¼‰ï¼ˆä¸è¶³ï¼š"),a("strong",[t._v("åªèƒ½ç›‘æ§åˆ°é•¿ä»»åŠ¡çš„å­˜åœ¨ï¼Œè²Œä¼¼ä¸èƒ½å®šä½åˆ°å…·ä½“ä»»åŠ¡")]),t._v("ï¼‰")]),a("li",[t._v("paint è·å–ç»˜åˆ¶ç›¸å…³çš„æ€§èƒ½æŒ‡æ ‡ï¼Œåˆ†ä¸ºä¸¤ç§ï¼šâ€œfirst-paintâ€ã€â€œfirst-contentful-paintâ€")]),a("li",[t._v("navigation å„ç§ä¸é¡µé¢æœ‰å…³çš„æ—¶é—´ï¼Œå¯é€šè¿‡ performance.timing è·å–")]),a("li",[t._v("resource å„ç§ä¸èµ„æºåŠ è½½ç›¸å…³çš„ä¿¡æ¯")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" output"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" item "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getEntries")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{attrs:{class:"token comment"}},[t._v("//ä¸šåŠ¡ä»£ç ")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobserver"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("observe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//æŒ‰éœ€è¦å¡«å†™")]),t._v("\n    entryTypes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'mark'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'measure'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'longtask'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'paint'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'navigation'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'resource'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"demo-ğŸŒ°â†“-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo-ğŸŒ°â†“-4","aria-hidden":"true"}},[this._v("#")]),this._v(" demo ğŸŒ°â†“")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"å‚è€ƒèµ„æ–™-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™-3","aria-hidden":"true"}},[this._v("#")]),this._v(" å‚è€ƒèµ„æ–™")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver/PerformanceObserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("PerformanceObserver()")])]),a("li",[a("a",{attrs:{href:"https://www.w3cplus.com/javascript/different-types-of-observers-supported-by-modern-browsers.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç°ä»£æµè§ˆå™¨æ”¯æŒçš„ä¸åŒç±»å‹çš„è§‚å¯Ÿè€…")])]),a("li",[a("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-performance-timeline-2-20190321/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Performance Timeline Level 2")])]),a("li",[a("a",{attrs:{href:"https://w3c.github.io/paint-timing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Paint Timing 1")])]),a("li",[a("a",{attrs:{href:"https://w3c.github.io/navigation-timing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Navigation Timing Level 2")])]),a("li",[a("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-user-timing-3-20190308/",target:"_blank",rel:"noopener noreferrer"}},[t._v("User Timing Level 3")])]),a("li",[a("a",{attrs:{href:"https://www.w3.org/TR/2019/WD-resource-timing-2-20190307/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource Timing Level 2")])]),a("li",[a("a",{attrs:{href:"https://www.w3.org/TR/2017/WD-longtasks-1-20170907/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Long Tasks API 1")])])])}],!1,null,null,null);s.default=e.exports}}]);