<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æµ…å° Web Components | å‰ç«¯å­¦ä¹ ç¬”è®°</title>
    <meta name="description" content="å‰ç«¯å¤§ä¹±ç‚–â€”â€”webå‰ç«¯,HTML5,CSS3,Javascript,SVG,canvas,vue...">
    <meta name="keywords" content="webå‰ç«¯,HTML5,CSS3,Javascript,SVG,canvas,vue...">
  <meta name="anthor" content="Denzel">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="icon" href="/blog/vuepress/logo.png">
  <meta http-equiv="Content-Security-Policy" content="img-src *">
    
    <link rel="preload" href="/blog/vuepress/assets/css/0.styles.51ca61eb.css" as="style"><link rel="preload" href="/blog/vuepress/assets/js/app.e5bf6791.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/4.04d9dabe.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/72.6b0317cb.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/43.75708b12.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/19.be7df768.js" as="script"><link rel="prefetch" href="/blog/vuepress/assets/js/1.e8bd26c9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/10.574803c8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/100.0ba1c1c3.js"><link rel="prefetch" href="/blog/vuepress/assets/js/101.4bb730ee.js"><link rel="prefetch" href="/blog/vuepress/assets/js/102.ca8e5612.js"><link rel="prefetch" href="/blog/vuepress/assets/js/103.954f966a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/104.15334917.js"><link rel="prefetch" href="/blog/vuepress/assets/js/105.a9031c25.js"><link rel="prefetch" href="/blog/vuepress/assets/js/106.2a6335ba.js"><link rel="prefetch" href="/blog/vuepress/assets/js/107.4904e047.js"><link rel="prefetch" href="/blog/vuepress/assets/js/108.42aff882.js"><link rel="prefetch" href="/blog/vuepress/assets/js/109.6f67fa6b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/11.d5594752.js"><link rel="prefetch" href="/blog/vuepress/assets/js/110.c70d15c0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/111.961d3baa.js"><link rel="prefetch" href="/blog/vuepress/assets/js/112.2a8cfa82.js"><link rel="prefetch" href="/blog/vuepress/assets/js/113.0dab39c8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/114.dd92eacb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/115.debaffea.js"><link rel="prefetch" href="/blog/vuepress/assets/js/12.106d7501.js"><link rel="prefetch" href="/blog/vuepress/assets/js/13.f24a2cf5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/14.0362bfb2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/15.d51e6736.js"><link rel="prefetch" href="/blog/vuepress/assets/js/16.d9d07ae4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/17.d802c433.js"><link rel="prefetch" href="/blog/vuepress/assets/js/18.3ea25d14.js"><link rel="prefetch" href="/blog/vuepress/assets/js/20.c1db08af.js"><link rel="prefetch" href="/blog/vuepress/assets/js/21.46822465.js"><link rel="prefetch" href="/blog/vuepress/assets/js/22.2939826f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/23.c0a1d316.js"><link rel="prefetch" href="/blog/vuepress/assets/js/24.a9e44d6e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/25.e4b67371.js"><link rel="prefetch" href="/blog/vuepress/assets/js/26.c2d36b96.js"><link rel="prefetch" href="/blog/vuepress/assets/js/27.3e0f5548.js"><link rel="prefetch" href="/blog/vuepress/assets/js/28.1fb9784f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/29.30f890c7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/30.3a4789da.js"><link rel="prefetch" href="/blog/vuepress/assets/js/31.86af5f73.js"><link rel="prefetch" href="/blog/vuepress/assets/js/32.4f4e638b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/33.3ee4a973.js"><link rel="prefetch" href="/blog/vuepress/assets/js/34.ca0e9fd0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/35.9d53a773.js"><link rel="prefetch" href="/blog/vuepress/assets/js/36.ad4d67c0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/37.26e83d02.js"><link rel="prefetch" href="/blog/vuepress/assets/js/38.3e0debe9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/39.ae4f9f44.js"><link rel="prefetch" href="/blog/vuepress/assets/js/40.8eacd7f5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/41.d053758b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/42.f1eda770.js"><link rel="prefetch" href="/blog/vuepress/assets/js/44.28624497.js"><link rel="prefetch" href="/blog/vuepress/assets/js/45.cdc7f9e4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/46.acfb2788.js"><link rel="prefetch" href="/blog/vuepress/assets/js/47.c4c9e2d0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/48.8d8b580c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/49.c1467d38.js"><link rel="prefetch" href="/blog/vuepress/assets/js/5.df1e7981.js"><link rel="prefetch" href="/blog/vuepress/assets/js/50.cf5406cb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/51.547e3c96.js"><link rel="prefetch" href="/blog/vuepress/assets/js/52.c9bf2d1b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/53.54933755.js"><link rel="prefetch" href="/blog/vuepress/assets/js/54.831deced.js"><link rel="prefetch" href="/blog/vuepress/assets/js/55.18c26f97.js"><link rel="prefetch" href="/blog/vuepress/assets/js/56.231fb3bc.js"><link rel="prefetch" href="/blog/vuepress/assets/js/57.d530da83.js"><link rel="prefetch" href="/blog/vuepress/assets/js/58.853007bb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/59.b259c47d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/6.6a25eb2a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/60.5756cce1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/61.f72cba1a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/62.2d581a5a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/63.6ef4dc19.js"><link rel="prefetch" href="/blog/vuepress/assets/js/64.b74ca2d5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/65.dc5afc85.js"><link rel="prefetch" href="/blog/vuepress/assets/js/66.ff25078a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/67.b4b44da1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/68.bbddd340.js"><link rel="prefetch" href="/blog/vuepress/assets/js/69.144facb1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/7.4eab58d2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/70.9800f565.js"><link rel="prefetch" href="/blog/vuepress/assets/js/71.4a36bd4b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/73.04d7758b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/74.be666e15.js"><link rel="prefetch" href="/blog/vuepress/assets/js/75.738ce8e5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/76.02de7fa1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/77.9d9192b7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/78.79f6c80d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/79.51ff1f0a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/8.740e5f25.js"><link rel="prefetch" href="/blog/vuepress/assets/js/80.a584463a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/81.62897024.js"><link rel="prefetch" href="/blog/vuepress/assets/js/82.bbe6bda0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/83.f996b69b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/84.c9a2fa02.js"><link rel="prefetch" href="/blog/vuepress/assets/js/85.dd67a87f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/86.b5895e9d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/87.2a192a39.js"><link rel="prefetch" href="/blog/vuepress/assets/js/88.7040851e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/89.016935bd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/9.26c0dc9a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/90.859f90ee.js"><link rel="prefetch" href="/blog/vuepress/assets/js/91.877fffa1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/92.7b2c20d7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/93.043ba7c4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/94.bc4b087a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/95.54ba10eb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/96.d365624e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/97.7c33cd44.js"><link rel="prefetch" href="/blog/vuepress/assets/js/98.f5c0b6f2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/99.902ff5c1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/vendors~notification.d5e78cba.js">
    <link rel="stylesheet" href="/blog/vuepress/assets/css/0.styles.51ca61eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/vuepress/" class="home-link router-link-active"><img src="/blog/vuepress/logo.png" alt="å‰ç«¯å­¦ä¹ ç¬”è®°" class="logo"> <span class="site-name can-hide">å‰ç«¯å­¦ä¹ ç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link router-link-active">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">å…¶ä»–</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link router-link-active">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">å…¶ä»–</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vuepress/html/" class="sidebar-link">ç›®å½•</a></li><li><a href="/blog/vuepress/html/web_components.html" class="active sidebar-link">æµ…å° Web Components</a></li><li><a href="/blog/vuepress/html/canvas_video_green_screen_cutout.html" class="sidebar-link">canvasåƒç´ ç‚¹æ“ä½œ â€”â€” è§†é¢‘ç»¿å¹•æŠ å›¾</a></li><li><a href="/blog/vuepress/html/canvas_pixel_pick.html" class="sidebar-link">canvasåƒç´ ç‚¹è·å– â€”â€” æ‹¾è‰²å™¨ã€æ”¾å¤§å™¨</a></li><li><a href="/blog/vuepress/html/dialog_element.html" class="sidebar-link">HTML5.2æ–°æ ‡ç­¾ â€”â€” dialog</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="æµ…å°-web-components"><a href="#æµ…å°-web-components" aria-hidden="true" class="header-anchor">#</a> æµ…å° Web Components</h1> <p><a href="https://xiaotianxia.github.io/blog/vuepress/html/web_components.html" target="_blank" rel="noopener noreferrer">åŸæ–‡åœ°å€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" aria-hidden="true" class="header-anchor">#</a> å‰è¨€</h2> <p>Web Componentsæ¶‰åŠåˆ°çš„å†…å®¹è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯ä¸€å—éƒ½æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥è®²ï¼Œå›½å¤–çš„å¥½å¤šå¤§ä½¬å·²ç»äº§å‡ºäº†å¥½å¤šä¼˜ç§€çš„æ–‡ç« ã€‚
æœ¬æ–‡ç…§å¸¸åªæ˜¯ç®€å•äº†è§£å¤§è‡´å†…å®¹è€Œä¸è¿›å…¥æ·±ç©¶ï¼Œäº†è§£ä¸”ä¼šç”¨å³å¯ï¼Œæµ…å°è¾„æ­¢ã€‚</p> <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" aria-hidden="true" class="header-anchor">#</a> ç®€ä»‹</h2> <p>Web Componentsæœ¬èº«<strong>ä¸æ˜¯ä¸€ä¸ª</strong>è§„èŒƒï¼Œè€Œæ˜¯ç”±W3Cæå‡ºçš„å¦å¤–4ä¸ªè§„èŒƒçš„åˆé›†ã€‚è¿™å››ä¸ªè§„èŒƒæ˜¯ï¼š</p> <ul><li><a href="#html-template"><strong>HTML Template</strong></a></li> <li><a href="#html-imports"><strong>HTML Imports</strong></a></li> <li><a href="#shadow-dom"><strong>Shadow DOM</strong></a></li> <li><a href="#custom-elements"><strong>Custom Elements</strong></a></li></ul> <p>ä¸‹é¢æˆ‘ä»¬èµ°é©¬è§‚èŠ±ï¼Œç®€å•äº†è§£ä¸€ä¸ªè¿™å››ä¸ªä¸œè¥¿ã€‚</p> <h2 id="html-template"><a href="#html-template" aria-hidden="true" class="header-anchor">#</a> HTML Template</h2> <p>ä¹‹å‰çš„é¡µé¢å¼€å‘ç»å¸¸çš„ä¸€ä¸ªåšæ³•æ˜¯æŠŠæ¨¡æ¿æ”¾åœ¨ä¸€ä¸ªscriptæ ‡ç­¾æˆ–è€…éšè—çš„divä¸­ï¼Œç”¨çš„æ—¶å€™é€šè¿‡innerHTMLå–å‡ºï¼Œå¡è¿›æ•°æ®ï¼Œ
ç„¶åæ”¾å›é¡µé¢æ˜¾ç¤ºã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;template&gt;æ ‡ç­¾å­˜æ”¾äº†ã€‚å°±åƒè¿™æ ·ï¼š</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mytemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>great image<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>comment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="ç‰¹æ€§æ£€æµ‹"><a href="#ç‰¹æ€§æ£€æµ‹" aria-hidden="true" class="header-anchor">#</a> ç‰¹æ€§æ£€æµ‹</h3> <p>è¦ç‰¹æ€§æ£€æµ‹ &lt;template&gt;ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª template å…ƒç´ å¹¶æ£€æŸ¥å®ƒæ˜¯å¦æ‹¥æœ‰ content å±æ€§ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">supportsTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">'content'</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">supportsTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">// æ£€æµ‹é€šè¿‡ï¼</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  	<span class="token comment">// ä½¿ç”¨æ—§çš„æ¨¡æ¿æŠ€æœ¯æˆ–åº“ã€‚</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="æ¿€æ´»æ¨¡æ¿"><a href="#æ¿€æ´»æ¨¡æ¿" aria-hidden="true" class="header-anchor">#</a> æ¿€æ´»æ¨¡æ¿</h3> <p>æ¿€æ´»æ¨¡æ¿ï¼Œå³æ¸²æŸ“å‡ºæ¨¡æ¿é‡Œé¢çš„å†…å®¹ã€‚æ¿€æ´»æ¨¡æ¿æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨
document.importNode() å¯¹æ¨¡æ¿çš„ .content è¿›è¡Œæ·±æ‹·è´ã€‚
.content ä¸ºåªè¯»å±æ€§ï¼Œå…³è”ä¸€ä¸ªåŒ…å«æ¨¡æ¿å†…å®¹çš„ DocumentFragmentã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#mytemplate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åœ¨è¿è¡Œæ—¶å¡«å…… srcã€‚</span>
t<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'logo.png'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> clone <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">importNode</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" aria-hidden="true" class="header-anchor">#</a> ç‰¹ç‚¹</h3> <p>ç”¨ &lt;template&gt; æ¥åŒ…è£¹å†…å®¹ä¸ºæˆ‘ä»¬æä¾›äº†å‡ ä¸ªé‡è¦å±æ€§ï¼š</p> <ul><li><p>å®ƒçš„å†…å®¹åœ¨æ¿€æ´»ä¹‹å‰ä¸€ç›´å¤„äºæƒ°æ€§çŠ¶æ€ã€‚æœ¬è´¨ä¸Šï¼Œè¿™äº›æ ‡è®°å°±æ˜¯éšè—çš„ DOMï¼Œå®ƒä»¬ä¸ä¼šè¢«æ¸²æŸ“ã€‚</p></li> <li><p>å¤„äºæ¨¡æ¿ä¸­çš„å†…å®¹ä¸ä¼šæœ‰å‰¯ä½œç”¨ã€‚è„šæœ¬ä¸ä¼šè¿è¡Œï¼Œå›¾ç‰‡ä¸ä¼šåŠ è½½ï¼ŒéŸ³é¢‘ä¸ä¼šæ’­æ”¾ï¼Œ...ç›´åˆ°æ¨¡æ¿è¢«ä½¿ç”¨ã€‚</p></li> <li><p>å†…å®¹ä¸åœ¨æ–‡æ¡£ä¸­ã€‚åœ¨ä¸»é¡µé¢ä½¿ç”¨ document.getElementById() æˆ– querySelector() ä¸ä¼šè¿”å›æ¨¡æ¿çš„å­èŠ‚ç‚¹ã€‚</p></li> <li><p>æ¨¡æ¿èƒ½å¤Ÿè¢«æ”¾ç½®åœ¨ä»»ä½•ä½ç½®ï¼ŒåŒ…æ‹¬ &lt;head&gt;ï¼Œ&lt;body&gt;ï¼Œæˆ– &lt;frameset&gt;ï¼Œå¹¶ä¸”ä»»ä½•èƒ½å¤Ÿå‡ºç°åœ¨ä»¥ä¸Šå…ƒç´ ä¸­çš„å†…å®¹éƒ½å¯ä»¥æ”¾åˆ°æ¨¡æ¿ä¸­ã€‚
æ³¨æ„ï¼Œ&quot;ä»»ä½•ä½ç½®&quot;æ„å‘³ç€ &lt;template&gt; èƒ½å¤Ÿå®‰å…¨çš„å‡ºç°åœ¨ HTML è§£æå™¨ä¸å…è®¸å‡ºç°çš„ä½ç½®...
å‡ ä¹å¯ä»¥ä½œä¸ºä»»ä½•å†…å®¹æ¨¡å‹çš„å­èŠ‚ç‚¹ï¼Œ å®ƒä¹Ÿå¯ä»¥ä½œä¸º &lt;table&gt; æˆ– &lt;select&gt; çš„å­å…ƒç´ ã€‚</p></li></ul> <h3 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" aria-hidden="true" class="header-anchor">#</a> æ¨èé˜…è¯»</h3> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots" target="_blank" rel="noopener noreferrer">Using templates and slots<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/en/tutorials/webcomponents/template/" target="_blank" rel="noopener noreferrer">HTML's New Template Tag - standardizing client-side templating<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="html-imports"><a href="#html-imports" aria-hidden="true" class="header-anchor">#</a> HTML Imports</h2> <p>ä¹‹å‰åœ¨é¡µé¢å¼•å…¥å¦ä¸€ä¸ªé¡µé¢æˆ–ç‰‡æ®µå¾€å¾€æ˜¯é€šè¿‡iframeæˆ–è€…ajaxå¼‚æ­¥åŠ è½½ï¼Œè€Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p> <p>åœ¨headä¸­å¼•å…¥</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>import<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/path/to/imports/stuff.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>jsä¸­è·å–</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'link[rel=&quot;import&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">import</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="ç‰¹æ€§æ£€æµ‹-2"><a href="#ç‰¹æ€§æ£€æµ‹-2" aria-hidden="true" class="header-anchor">#</a> ç‰¹æ€§æ£€æµ‹</h3> <p>è¦æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒå¯¼å…¥ï¼Œå¯éªŒè¯ &lt;link&gt; å…ƒç´ ä¸Šæ˜¯å¦å­˜åœ¨ importï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">supportsImports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">'import'</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">supportsImports</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">// æ”¯æŒå¯¼å…¥</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  	<span class="token comment">// ä½¿ç”¨å…¶ä»–æ–¹æ³•åŠ è½½æ–‡ä»¶</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="æ¨èé˜…è¯»-2"><a href="#æ¨èé˜…è¯»-2" aria-hidden="true" class="header-anchor">#</a> æ¨èé˜…è¯»</h3> <ul><li><a href="https://w3c.github.io/webcomponents/spec/imports/" target="_blank" rel="noopener noreferrer">HTML Imports<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/en/tutorials/webcomponents/imports/" target="_blank" rel="noopener noreferrer">HTML Imports - #include for the web<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="shadow-dom"><a href="#shadow-dom" aria-hidden="true" class="header-anchor">#</a> Shadow DOM</h2> <p>é¦–å…ˆéœ€è¦è®¾ç½®ä¸€ä¸‹ï¼šæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œf1æ‰“å¼€è®¾ç½®(æˆ–å³ä¸Šè§’ä¸‰ä¸ªç‚¹)ï¼Œç„¶åå‹¾ä¸ŠShow user agent shadow DOM â€”â€”
<img src="http://pq3mt9wke.bkt.clouddn.com/component005.png" alt=""></p> <p>ç„¶åå†çœ‹ä¸‹ï¼Œvideoæ ‡ç­¾æ˜¯è¿™æ ·çš„ â€”â€”
<img src="http://pq3mt9wke.bkt.clouddn.com/component006.png" alt=""></p> <p>ç”šè‡³ä¸€ä¸ªæ™®é€šçš„input â€”â€”
<img src="http://pq3mt9wke.bkt.clouddn.com/component008.png" alt=""></p> <p>ä¹‹å‰è¢«éšè—æ‰çš„DOMéƒ¨åˆ†å°±æ˜¯shadow DOMã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯å…¶å®¿ä¸»å…ƒç´ çš„å½±å­ï¼Œé€šå¸¸ç”¨æ¥å°è£…ç»„ä»¶çš„å†…éƒ¨ç»“æ„ã€‚</p> <p>æ‰€ä»¥åƒvideoã€audioç”šè‡³inputéƒ½æ˜¯ç”¨ç®€å•çš„å…ƒç´ å°è£…çš„ç»„ä»¶ã€‚</p> <p>è¿™è®©æˆ‘æƒ³åˆ°ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹å…ƒç´ é‡Œé¢çš„shadow DOMçš„æ ·å¼æ¥æ”¹å˜è¯¥å…ƒç´ çš„æ ·å¼å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯ â€”â€” æ˜¯çš„ï¼Œä½†ä¹Ÿ<strong>ä¸å®Œå…¨</strong>æ˜¯...</p> <p><img src="http://pq3mt9wke.bkt.clouddn.com/component009.png" alt=""></p> <p>ä»ä¸Šå›¾audioæ ‡ç­¾çš„ç»“æ„å’Œæµè§ˆå™¨é»˜è®¤æ ·å¼å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·ä¿®æ”¹å¯¹åº”çš„æ ·å¼ï¼š</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">audio::-webkit-media-controls</span> <span class="token punctuation">{</span>
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å°±åƒé€šè¿‡::-webkit-scrollbaræ”¹é€ æµè§ˆçš„æ»šåŠ¨æ¡æ ·å¼é‚£æ ·ï¼Œ</p> <p>äºæ˜¯ï¼Œé»˜è®¤çš„audioæ ·å¼(æ–°ç‰ˆchrome)â€”â€”</p> <p><img src="http://pq3mt9wke.bkt.clouddn.com/componet003.png" alt="small"></p> <p>ç»è¿‡æ”¹é€ åï¼Œå¯ä»¥å˜æˆè¿™æ ·â€”â€”</p> <p><img src="http://pq3mt9wke.bkt.clouddn.com/component004.png" alt="small"></p> <div class="warning custom-block"><p>ç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰æ ·å¼éƒ½å¯ä»¥è¿™æ ·è¦†ç›–æ”¹é€ ï¼Œåƒpseudo=&quot;-internal-media-controls-loading-panel&quot;è¿™æ ·ä»¥&quot;-internal-&quot;å¼€å¤´çš„æ˜¯ä¸å¯ä»¥çš„ã€‚
æ‰€ä»¥è¿™ä¸ªåšæ³•è¿˜æ˜¯æœ‰å¾ˆå¤§å±€é™æ€§çš„ã€‚</p> <p>è¿™æ˜¯æˆ‘è¯•å‡ºæ¥çš„ï¼Œå¹¶æ²¡å‘ç°ç›¸å…³æ ‡å‡†æˆ–ä¾æ®...ğŸ˜“</p></div> <div class="codepen-wrapper"><a href="https://codepen.io/_tianxia/pen/gdEmbj" target="_blank" class="el-button el-button--primary is-plain">show in codepen <i class="el-icon-d-arrow-right"></i></a></div> <p>è¿™ç§åšæ³•è‡ªè®¤ä¸ºåªé€‚åˆæ‹¿æ¥ç©ç©è€Œå·²ï¼Œä¸é€‚åˆæŠ•å…¥åˆ°é¡¹ç›®å¼€å‘ä¸­å»ã€‚ä¸€æ¥æ˜¯å› ä¸ºå…¶å±€é™æ€§å¤ªå¤§ï¼ŒäºŒæ¥è°çŸ¥é“å•¥æ—¶å€™æµè§ˆå™¨å‡çº§ï¼Œè¿™äº›æ ‡ç­¾çš„å†…éƒ¨ç»“æ„å°±åˆå˜åŒ–äº†å‘¢ï¼Œ
æœ€é‡è¦çš„æ˜¯shadow DOMæ˜¯ä¸ºweb Componentsè€Œç”Ÿçš„ï¼Œä¸Custom Elementsä¸€èµ·æ˜¯web Componentsçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå¹¶éç”¨äºæ­¤â€œæ—é—¨å·¦é“â€ğŸ˜†ã€‚</p> <h3 id="æ¨èé˜…è¯»-3"><a href="#æ¨èé˜…è¯»-3" aria-hidden="true" class="header-anchor">#</a> æ¨èé˜…è¯»</h3> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer">Using shadow DOM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/en/tutorials/webcomponents/shadowdom/" target="_blank" rel="noopener noreferrer">Shadow DOM 101<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/zh/tutorials/webcomponents/shadowdom-201/" target="_blank" rel="noopener noreferrer">Shadow DOM 201 - CSS and Styling<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/zh/tutorials/webcomponents/shadowdom-301/" target="_blank" rel="noopener noreferrer">Shadow DOM 301 - Advanced Concepts &amp; DOM APIs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="custom-elements"><a href="#custom-elements" aria-hidden="true" class="header-anchor">#</a> Custom Elements</h2> <p>è‡ªå®šä¹‰å…ƒç´ ï¼Œé¦–å…ˆæœ‰ä¸ªç¡¬æ€§è§„å®šï¼Œè‡ªå®šä¹‰å…ƒç´ çš„å‘½åä¸­å¿…é¡»è¦æœ‰ä¸­åˆ’çº¿â€œ-â€ï¼Œå¦åˆ™ä¾¿æ˜¯æœªçŸ¥å…ƒç´ äº†ã€‚</p> <p>è‡ªå®šä¹‰å…ƒç´ åˆ†ä¸ºä¸¤ç§ â€”â€”</p> <ul><li><a href="#%E8%87%AA%E4%B8%BB%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0-autonomous-custom-elements"><strong>è‡ªä¸»è‡ªå®šä¹‰å…ƒç´ </strong></a></li> <li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%86%85%E7%BD%AE%E5%85%83%E7%B4%A0-customized-built-in-elements"><strong>è‡ªå®šä¹‰å†…ç½®å…ƒç´ </strong></a></li></ul> <h3 id="è‡ªç‰¹æ€§ä¸»è‡ªå®šä¹‰å…ƒç´ -autonomous-custom-elements"><a href="#è‡ªç‰¹æ€§ä¸»è‡ªå®šä¹‰å…ƒç´ -autonomous-custom-elements" aria-hidden="true" class="header-anchor">#</a> è‡ªç‰¹æ€§ä¸»è‡ªå®šä¹‰å…ƒç´ (Autonomous custom elements)</h3> <p>ä¸å…·å¤‡ä»»ä½•å·²æœ‰å…ƒç´ çš„ï¼Œå…¶æ ·å¼å’Œè¡Œä¸ºå®Œå…¨è‡ªå®šä¹‰ï¼Œå¦‚æˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªè¿™æ ·çš„å…ƒç´ ï¼š</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>flag-icon</span> <span class="token attr-name">country</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>cn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>flag-icon</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>é€šè¿‡ç»™å±æ€§countryèµ‹å€¼æ¥æ˜¾ç¤ºå¯¹åº”çš„å›½æ——ã€‚</p> <p>jsçš„åŸºæœ¬ç»“æ„æ˜¯è¿™æ ·çš„</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">FlagIcon</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>_countryCode <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>

  	<span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">observedAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&quot;country&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

  	<span class="token function">attributeChangedCallback</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token comment">// name will always be &quot;country&quot; due to observedAttributes</span>
	    <span class="token keyword">this</span><span class="token punctuation">.</span>_countryCode <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
	    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateRendering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>

  	<span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateRendering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>

  	<span class="token keyword">get</span> <span class="token function">country</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_countryCode<span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>

  	<span class="token keyword">set</span> <span class="token function">country</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;country&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>

  	<span class="token function">_updateRendering</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token comment">//...</span>
  	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//å…¨å±€æ³¨å†Œè¯¥å…ƒç´ </span>
customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&quot;flag-icon&quot;</span><span class="token punctuation">,</span> FlagIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>æ³¨å†Œåï¼Œä¹Ÿé€šè¿‡jsåˆ›å»ºè¯¥å…ƒç´ </p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> flagIcon <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;flag-icon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flagIcon<span class="token punctuation">.</span>country <span class="token operator">=</span> <span class="token string">&quot;cn&quot;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>flagIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="è‡ªå®šä¹‰å†…ç½®å…ƒç´ -customized-built-in-elements"><a href="#è‡ªå®šä¹‰å†…ç½®å…ƒç´ -customized-built-in-elements" aria-hidden="true" class="header-anchor">#</a> è‡ªå®šä¹‰å†…ç½®å…ƒç´ (Customized built-in elements)</h3> <p>ç»§æ‰¿è‡ªå·²æœ‰å…ƒç´ ï¼Œæ‹¥æœ‰å·²æœ‰å…ƒç´ çš„æ‰€æœ‰ç‰¹æ€§ã€‚</p> <p>æ¯”å¦‚æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªæŒ‰é’®ï¼Œé›†æˆæ™®é€šæŒ‰é’®æ‰€æœ‰çš„ç‰¹æ€§ï¼Œä½†æ˜¯å½“ç‚¹å‡»çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªåŠ¨æ•ˆï¼Œå°±å¯ä»¥è¿™ä¹ˆåš â€”â€”</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">PlasticButton</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLButtonElement</span> <span class="token punctuation">{</span>
  	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      		<span class="token comment">// åŠ¨æ•ˆé€»è¾‘</span>
    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¸åŒçš„æ˜¯ï¼Œæ³¨å†Œæ—¶è¦åŠ ä¸Šä¸€ä¸ªå‚æ•°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&quot;plastic-button&quot;</span><span class="token punctuation">,</span> PlasticButton<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token string">&quot;button&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä½¿ç”¨æ—¶ä¹Ÿç¨æœ‰ä¸åŒ</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>plastic-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹æˆ‘!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>é€šè¿‡jså®šä¹‰å…ƒç´ ï¼Œåˆ™æ˜¯è¿™æ ·</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> plasticButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> is<span class="token punctuation">:</span> <span class="token string">&quot;plastic-button&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
plasticButton<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;ç‚¹æˆ‘!&quot;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>flagIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸ</h3> <p>ç”¨è¿‡Vueã€Reactç­‰æ¡†æ¶çš„åŒå­¦å¯¹ç”Ÿå‘½å‘¨æœŸåº”è¯¥ä¸é™Œç”Ÿã€‚åŒæ ·ï¼Œè‡ªå®šä¹‰å…ƒç´ æœ‰4ä¸ªç”Ÿå‘½å‘¨æœŸï¼š</p> <h4 id="connectedcallback"><a href="#connectedcallback" aria-hidden="true" class="header-anchor">#</a> connectedCallback</h4> <p>å…ƒç´ é¦–æ¬¡è¢«æ’å…¥æ–‡æ¡£DOMæ—¶è§¦å‘</p> <h4 id="disconnectedcallback"><a href="#disconnectedcallback" aria-hidden="true" class="header-anchor">#</a> disconnectedCallback</h4> <p>å…ƒç´ ä»æ–‡æ¡£DOMä¸­åˆ é™¤æ—¶è§¦å‘</p> <h4 id="adoptedcallback"><a href="#adoptedcallback" aria-hidden="true" class="header-anchor">#</a> adoptedCallback</h4> <p>å…ƒç´ è¢«ç§»åŠ¨åˆ°æ–°çš„æ–‡æ¡£æ—¶è§¦å‘</p> <h4 id="attributechangedcallback"><a href="#attributechangedcallback" aria-hidden="true" class="header-anchor">#</a> attributeChangedCallback</h4> <p>å…ƒç´ å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹è‡ªèº«å±æ€§æ—¶è§¦å‘</p> <h3 id="æ¨èé˜…è¯»-4"><a href="#æ¨èé˜…è¯»-4" aria-hidden="true" class="header-anchor">#</a> æ¨èé˜…è¯»</h3> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements" target="_blank" rel="noopener noreferrer">Using custom elements<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.html5rocks.com/en/tutorials/webcomponents/customelements/" target="_blank" rel="noopener noreferrer">Custom Elements - defining new elements in HTML<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="æ¥ä¸€ä¸ªdemo"><a href="#æ¥ä¸€ä¸ªdemo" aria-hidden="true" class="header-anchor">#</a> æ¥ä¸€ä¸ªdemo</h3> <p>è¯„åˆ†ç»„ä»¶ç›¸ä¿¡å¤§å®¶éƒ½å¸ç©ºè§æƒ¯äº†ã€‚ç…§è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘ç”¨åŸç”Ÿjså†™äº†ä¸€ä¸ªWeb Components ç‰ˆçš„ï¼Œç®€å•å®ç°äº†è¯¥ç»„ä»¶çš„åŸºæœ¬åŠŸèƒ½ã€‚</p> <p>demoæˆªå›¾ï¼š</p> <p><img src="http://pq3mt9wke.bkt.clouddn.com/component001.gif" alt=""></p> <p>demoåœ°å€ï¼š
<div class="codepen-wrapper"><a href="https://codepen.io/_tianxia/pen/mGZOOG/" target="_blank" class="el-button el-button--primary is-plain">show in codepen <i class="el-icon-d-arrow-right"></i></a></div></p> <h2 id="æ¨èé˜…è¯»-5"><a href="#æ¨èé˜…è¯»-5" aria-hidden="true" class="header-anchor">#</a> æ¨èé˜…è¯»</h2> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components" target="_blank" rel="noopener noreferrer">Web Components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.webcomponents.org/" target="_blank" rel="noopener noreferrer">https://www.webcomponents.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" aria-hidden="true" class="header-anchor">#</a> æ€»ç»“</h2> <p>Web Components ä¸ºå‰ç«¯ç»„ä»¶åŒ–æä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œä½†ç”¨æƒ¯äº†Vueè¿™æ ·çš„æ¡†æ¶ï¼Œè¿˜æ˜¯ä¼šå‘ç°Web Components çš„é—®é¢˜ï¼Œ
æ¯”å¦‚</p> <ul><li>æµè§ˆå™¨çš„æ”¯æŒ</li> <li>å¯¹æ ·å¼å±€éƒ¨ä½œç”¨åŸŸçš„å¤„ç†ï¼Œå¾€å¾€jsä¸­åŒ…ç€ä¸€å †çš„CSSæ ·å¼ï¼Œç•¥æ˜¾è‡ƒè‚¿</li> <li>çˆ¶å­ã€å…„å¼Ÿç»„ä»¶çš„é€šä¿¡é—®é¢˜</li> <li>å±æ€§éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦é¢å¤–çš„ä»£ç åšè½¬æ¢å’Œå…¼å®¹</li> <li>æ²¡æœ‰æ•°æ®é©±åŠ¨ï¼ŒåŸºæœ¬å…¨æ˜¯DOMæ“ä½œ</li></ul> <p>è¿™äº›é—®é¢˜è²Œä¼¼éƒ½æ²¡æœ‰ç»™å‡ºå…·ä½“çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç›®å‰çš„å¥½å¤šä¼˜ç§€çš„polyfillå·²ç»åšåˆ°å¾ˆå¥½äº†ã€‚</p> <p>ä¸ªäººæ„šè§ï¼Œæœ›å¤§ä½¬æŒ‡ç‚¹ï¼ğŸ™</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€è¿‘æ›´æ–°: </span> <span class="time">4/23/2019, 11:11:51 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/blog/vuepress/html/" class="prev router-link-active">
          ç›®å½•
        </a></span> <span class="next"><a href="/blog/vuepress/html/canvas_video_green_screen_cutout.html">
          canvasåƒç´ ç‚¹æ“ä½œ â€”â€” è§†é¢‘ç»¿å¹•æŠ å›¾
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/vuepress/assets/js/app.e5bf6791.js" defer></script><script src="/blog/vuepress/assets/js/4.04d9dabe.js" defer></script><script src="/blog/vuepress/assets/js/72.6b0317cb.js" defer></script><script src="/blog/vuepress/assets/js/43.75708b12.js" defer></script><script src="/blog/vuepress/assets/js/19.be7df768.js" defer></script>
  </body>
</html>
